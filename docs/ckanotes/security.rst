============
Security
============

Concepts

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/1.demo_concepts.sh
  :language: bash
  :caption: Concepts

Securityprimitives

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/2.demo_security_primitives.sh
  :language: bash
  :caption: Securityprimitives

k8sAuthentication

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/3.demo_k8s_authentication.sh
  :language: bash
  :caption: k8sAuthentication

demossltls

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/4.demo_SSL-TLS_intro.sh
  :language: bash
  :caption: demossltls

TLSink8s

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/5.demo_TLS_in_kubernetes.sh
  :language: bash
  :caption: TLSink8s

opensslapiserverconf

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/openssl-apiserver.conf
  :language: bash
  :caption: opensslapiserverconf

kubeletconfig

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/node01_kubelet-config.yaml
  :language: yaml
  :caption: kubeletconfig

k8sapiconfig

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/Access_k8s_api_with_config_file.yaml
  :language: yaml
  :caption: k8sapiconfig

generatetlsink8s

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/6.demo_generate_tls_certs_k8s.sh
  :language: bash
  :caption: generatetlsink8s

certsinetcd

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/example_certs_in_etcd.yaml
  :language: yaml
  :caption: certsinetcd

viewk8scerts

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/7.demo_view_k8s_certificates.sh
  :language: bash
  :caption: viewk8scerts

viewk8scertslabs

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/8.demo_view_k8s_certs_labs.sh
  :language: bash
  :caption: viewk8scertslabs

getcsr

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/CertificateSigningRequest.yaml
  :language: yaml
  :caption: getcsr

k8scertAPI

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/9.demo_k8s_certificatesAPI.sh
  :language: bash
  :caption: k8scertAPI

csruser

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/CertSigningRequest_user.yaml
  :language: bash
  :caption: csruser

k8scertlabs

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/10.demo_k8s_certificates_API_labs.sh
  :language: bash
  :caption: k8scertlabs

kubeconfig1

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/example_kube_config1.yaml
  :language: yaml
  :caption: kubeconfig1

kubeconfig2

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/example_kube_config2.yaml
  :language: yaml
  :caption: kubeconfig2

demokubeconfig

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/11.demo_kubeconfig.sh
  :language: bash
  :caption: demokubeconfig

demokubeconfiglabs

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/12.demo_kubeconfig_labs.sh
  :language: bash
  :caption: demokubeconfiglabs

APIGroups

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/13.demo_APIGroups.sh
  :language: bash
  :caption: APIGroups

k8sAuthorization

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/14.demo_Authorization.sh
  :language: bash
  :caption: k8sAuthorization

k8srole

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/deveoper-role.yaml
  :language: yaml
  :caption: k8srole

k8srolebinding

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/devuser-developer-binding.yaml
  :language: yaml
  :caption: k8srolebinding

k8srolegranular

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/deveoper_granualr-role.yaml
  :language: yaml
  :caption: k8srolegranular

k8sRBAC

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/15.demo_Role_Based_Access_Controls(RBAC).sh
  :language: bash
  :caption: k8sRBAC

k8sRBAClabs

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/16.demo_RBAC_labs.sh
  :language: bash
  :caption: k8sRBAClabs

role_rolebinding

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/deploy-role-rolebinding.yaml
  :language: yaml
  :caption: role_rolebinding

clusterrole

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/clusterrole-clusterAdmin.yaml
  :language: yaml
  :caption: clusterrole

clusterrolebinding

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/clusteradmin-clusterrolebinding.yaml
  :language: yaml
  :caption: clusterrolebinding

clusterrolebinding2

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/17.demo_clusterrole_rolebinding.sh
  :language: bash
  :caption: clusterrolebinding2

userclusterrolebinding

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/michelle-cluser-clusterrolebinding.yaml
  :language: yaml
  :caption: userclusterrolebinding

clusterrolebindinglabs

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/18.demo_clusterrole_clusterrolebinding_labs.sh
  :language: bash
  :caption: clusterrolebindinglabs

k8sserviceaccount

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/19.k8s_service_accounts.sh
  :language: bash
  :caption: k8sserviceaccount

k8sserviceaccountlabs

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/20.demo_serviceaccounts_labs.sh
  :language: bash
  :caption: k8sserviceaccountlabs

deploymentwithSA

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/deployment_specification_with_serviceaccount.yaml
  :language: yaml
  :caption: deploymentwithSA

k8sdashboardrole

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/dashboard-sa-role-binding.yaml
  :language: yaml
  :caption: k8sdashboardrole

secureImages

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/22.demo_secure_images_labs.sh
  :language: yaml
  :caption: secureImages

podwithSA

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/pod_with_serviceaccount.yaml
  :language: yaml
  :caption: podwithSA

dockercredsinpod

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/docker-login-creds-in-pod.yaml
  :language: yaml
  :caption: dockercredsinpod

deploymentwithdockercreds

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/deployment_with_dockercreds.yaml
  :language: yaml
  :caption: deploymentwithdockercreds

imagesecurity

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/21.Image_security.sh
  :language: bash
  :caption: imagesecurity

dockersecurity

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/23.demo_docker_security.sh
  :language: bash
  :caption: dockersecurity

securitycontexts

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/24.security_contexts_in_k8s.sh
  :language: bash
  :caption: securitycontexts

podsecuritycontext

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/pod_with_security_context_podlevel.yaml
  :language: yaml
  :caption: podsecuritycontext

containersecuritycontext

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/pod_with_security_context_containerlevel.yaml
  :language: yaml
  :caption: containersecuritycontext

multipodsecuritycontext

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/security_context_multi_pod.yaml
  :language: yaml
  :caption: multipodsecuritycontext

securitycontextslabs

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/25.demo_security_context_labs.sh
  :language: bash
  :caption: securitycontextslabs

networkpolicies

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/26.demo_network_policies.sh
  :language: bash
  :caption: networkpolicies

developnetworkpolicy

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/28.developing_networkpolicies.yaml
  :language: yaml
  :caption: developnetworkpolicy

networkpolicylabs

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/29.network_policies_labs.sh
  :language: bash
  :caption: networkpolicylabs

ingress_egress_networkpolicy

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/30.allow_internal_egress_to_payroll_db.yaml
  :language: yaml
  :caption: ingress_egress_networkpolicy

samplenetworkpolicy

.. literalinclude:: ../../Four_September_2021_CKA_Recap/6.Security/27.demo_sample_network_policy.yaml
  :language: yaml
  :caption: samplenetworkpolicy


CA Pulic certs in Browsers
---------------------------

* **CA public certs in chrome** -

.. image:: ../../Four_September_2021_CKA_Recap/6.Security/CAs_public_certs_in_chrome.png
    :width: 80%
    :align: center

* **CA public certs in firefox** -

.. image:: ../../Four_September_2021_CKA_Recap/6.Security/CAs_pulbic_certs_in_browser.png
    :width: 80%
    :align: center


all k8s TLS certs
-------------------

* **all k8s TLS certs** -

.. image:: ../../Four_September_2021_CKA_Recap/6.Security/all_kubernetes_tls_certs.png
    :width: 80%
    :align: center


configure TLS public/private keys
----------------------------------

TLS public/private keys at `TLS`_.

.. _TLS: https://github.com/Bharathkumarraju/certified_kubernetes_administrator/tree/master/Four_September_2021_CKA_Recap/6.Security/generate_tls_public-private_keys/



configure TLS for k8s
----------------------

TLS in kubernetes `tlsink8s`_.

.. _tlsink8s: https://github.com/Bharathkumarraju/certified_kubernetes_administrator/tree/master/Four_September_2021_CKA_Recap/6.Security/generate_tls_for_kubernetes/

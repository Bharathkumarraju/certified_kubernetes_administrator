<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Core Concepts &mdash; CKA Notes  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/custom.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Scheduling" href="scheduling.html" />
    <link rel="prev" title="CKA notes" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> CKA Notes
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">The CKABOOK:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Core Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pod-repliationcontroller-repliaset-deployment-service-namespace-manifest-files">Pod, RepliationController, Repliaset, Deployment, Service, Namespace manifest files</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scheduling.html">Scheduling</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging-monitoring.html">Logging and Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="application-lifecycle-management.html">Application lifecycle management</a></li>
<li class="toctree-l1"><a class="reference internal" href="cluster-maintenance.html">Cluster Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">Networking</a></li>
<li class="toctree-l1"><a class="reference internal" href="design-k8s.html">Design Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-k8s-kubeadm.html">Install Kubernetes with kubeadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">troubleshooting in k8s</a></li>
<li class="toctree-l1"><a class="reference internal" href="kodekloud-labs.html">kodekloud labs</a></li>
<li class="toctree-l1"><a class="reference internal" href="killersh-labs.html">killer.sh simulator labs</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">CKA Notes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Core Concepts</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="core-concepts">
<h1>Core Concepts<a class="headerlink" href="#core-concepts" title="Permalink to this headline"></a></h1>
<p>All kubernetes components(minikube)</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">all_k8s_components</span><a class="headerlink" href="#id1" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ docker ps
CONTAINER ID        IMAGE                                 COMMAND                  CREATED             STATUS              PORTS                                                                                                                                  NAMES
8271f1c15e16        gcr.io/k8s-minikube/kicbase:v0.0.22   <span class="s2">&quot;/usr/local/bin/entr…&quot;</span>   <span class="m">18</span> hours ago        Up <span class="m">18</span> hours         <span class="m">127</span>.0.0.1:32777-&gt;22/tcp, <span class="m">127</span>.0.0.1:32776-&gt;2376/tcp, <span class="m">127</span>.0.0.1:32775-&gt;5000/tcp, <span class="m">127</span>.0.0.1:32774-&gt;8443/tcp, <span class="m">127</span>.0.0.1:32773-&gt;32443/tcp   minikube
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 



root@minikube:/# netstat -plant <span class="p">|</span> grep -i <span class="s2">&quot;LISTEN&quot;</span>
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">127</span>.0.0.1:10257         <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">1867</span>/kube-controlle 
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">127</span>.0.0.1:10259         <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">1878</span>/kube-scheduler 
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">0</span>.0.0.0:22              <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">198</span>/sshd: /usr/sbin 
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">127</span>.0.0.11:37989        <span class="m">0</span>.0.0.0:*               LISTEN      -                   
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">127</span>.0.0.1:10248         <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">852</span>/kubelet         
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">127</span>.0.0.1:36617         <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">852</span>/kubelet         
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">192</span>.168.49.2:2379       <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">1708</span>/etcd           
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">127</span>.0.0.1:2379          <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">1708</span>/etcd           
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">192</span>.168.49.2:2380       <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">1708</span>/etcd           
tcp        <span class="m">0</span>      <span class="m">0</span> <span class="m">127</span>.0.0.1:2381          <span class="m">0</span>.0.0.0:*               LISTEN      <span class="m">1708</span>/etcd           
tcp6       <span class="m">0</span>      <span class="m">0</span> :::10256                :::*                    LISTEN      <span class="m">2898</span>/kube-proxy     
tcp6       <span class="m">0</span>      <span class="m">0</span> :::22                   :::*                    LISTEN      <span class="m">198</span>/sshd: /usr/sbin 
tcp6       <span class="m">0</span>      <span class="m">0</span> :::8443                 :::*                    LISTEN      <span class="m">1767</span>/kube-apiserver 
tcp6       <span class="m">0</span>      <span class="m">0</span> :::2376                 :::*                    LISTEN      <span class="m">211</span>/dockerd         
tcp6       <span class="m">0</span>      <span class="m">0</span> :::10249                :::*                    LISTEN      <span class="m">2898</span>/kube-proxy     
tcp6       <span class="m">0</span>      <span class="m">0</span> :::10250                :::*                    LISTEN      <span class="m">852</span>/kubelet         
root@minikube:/# 

Master-Components:
--------------------------------&gt;

root@minikube:/# ps -eaf <span class="p">|</span> grep -i kube-apiserver
root        <span class="m">1767</span>    <span class="m">1689</span> <span class="m">23</span> Sep04 ?        <span class="m">00</span>:37:43 kube-apiserver --advertise-address<span class="o">=</span><span class="m">192</span>.168.49.2 --allow-privileged<span class="o">=</span><span class="nb">true</span> --authorization-mode<span class="o">=</span>Node,RBAC --client-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt --enable-admission-plugins<span class="o">=</span>NamespaceLifecycle,LimitRanger,ServiceAccount,DefaultStorageClass,DefaultTolerationSeconds,NodeRestriction,MutatingAdmissionWebhook,ValidatingAdmissionWebhook,ResourceQuota --enable-bootstrap-token-auth<span class="o">=</span><span class="nb">true</span> --etcd-cafile<span class="o">=</span>/var/lib/minikube/certs/etcd/ca.crt --etcd-certfile<span class="o">=</span>/var/lib/minikube/certs/apiserver-etcd-client.crt --etcd-keyfile<span class="o">=</span>/var/lib/minikube/certs/apiserver-etcd-client.key --etcd-servers<span class="o">=</span>https://127.0.0.1:2379 --insecure-port<span class="o">=</span><span class="m">0</span> --kubelet-client-certificate<span class="o">=</span>/var/lib/minikube/certs/apiserver-kubelet-client.crt --kubelet-client-key<span class="o">=</span>/var/lib/minikube/certs/apiserver-kubelet-client.key --kubelet-preferred-address-types<span class="o">=</span>InternalIP,ExternalIP,Hostname --proxy-client-cert-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-client.crt --proxy-client-key-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-client.key --requestheader-allowed-names<span class="o">=</span>front-proxy-client --requestheader-client-ca-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-ca.crt --requestheader-extra-headers-prefix<span class="o">=</span>X-Remote-Extra- --requestheader-group-headers<span class="o">=</span>X-Remote-Group --requestheader-username-headers<span class="o">=</span>X-Remote-User --secure-port<span class="o">=</span><span class="m">8443</span> --service-account-issuer<span class="o">=</span>https://kubernetes.default.svc.cluster.local --service-account-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.pub --service-account-signing-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.key --service-cluster-ip-range<span class="o">=</span><span class="m">10</span>.96.0.0/12 --tls-cert-file<span class="o">=</span>/var/lib/minikube/certs/apiserver.crt --tls-private-key-file<span class="o">=</span>/var/lib/minikube/certs/apiserver.key
root       <span class="m">37814</span>   <span class="m">37775</span>  <span class="m">0</span> <span class="m">01</span>:12 pts/1    <span class="m">00</span>:00:00 grep --color<span class="o">=</span>auto -i kube-apiserver
root@minikube:/# 

root@minikube:/# ps -eaf <span class="p">|</span> grep -i kube-scheduler
root        <span class="m">1878</span>    <span class="m">1810</span>  <span class="m">1</span> Sep04 ?        <span class="m">00</span>:01:52 kube-scheduler --authentication-kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf --authorization-kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf --bind-address<span class="o">=</span><span class="m">127</span>.0.0.1 --kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf --leader-elect<span class="o">=</span><span class="nb">false</span> --port<span class="o">=</span><span class="m">0</span>
root       <span class="m">37924</span>   <span class="m">37775</span>  <span class="m">0</span> <span class="m">01</span>:13 pts/1    <span class="m">00</span>:00:00 grep --color<span class="o">=</span>auto -i kube-scheduler
root@minikube:/# 

root@minikube:/# ps -eaf <span class="p">|</span> grep -i kube-controller-manager
root        <span class="m">1867</span>    <span class="m">1747</span>  <span class="m">9</span> Sep04 ?        <span class="m">00</span>:15:15 kube-controller-manager --allocate-node-cidrs<span class="o">=</span><span class="nb">true</span> --authentication-kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf --authorization-kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf --bind-address<span class="o">=</span><span class="m">127</span>.0.0.1 --client-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt --cluster-cidr<span class="o">=</span><span class="m">10</span>.244.0.0/16 --cluster-name<span class="o">=</span>mk --cluster-signing-cert-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt --cluster-signing-key-file<span class="o">=</span>/var/lib/minikube/certs/ca.key --controllers<span class="o">=</span>*,bootstrapsigner,tokencleaner --kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf --leader-elect<span class="o">=</span><span class="nb">false</span> --port<span class="o">=</span><span class="m">0</span> --requestheader-client-ca-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-ca.crt --root-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt --service-account-private-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.key --service-cluster-ip-range<span class="o">=</span><span class="m">10</span>.96.0.0/12 --use-service-account-credentials<span class="o">=</span><span class="nb">true</span>
root       <span class="m">38052</span>   <span class="m">37775</span>  <span class="m">0</span> <span class="m">01</span>:13 pts/1    <span class="m">00</span>:00:00 grep --color<span class="o">=</span>auto -i kube-controller-manager
root@minikube:/# 

root@minikube:/# ps -eaf <span class="p">|</span> grep -iw <span class="s2">&quot;etcd &quot;</span>
root        <span class="m">1708</span>    <span class="m">1651</span>  <span class="m">4</span> Sep04 ?        <span class="m">00</span>:07:50 etcd --advertise-client-urls<span class="o">=</span>https://192.168.49.2:2379 --cert-file<span class="o">=</span>/var/lib/minikube/certs/etcd/server.crt --client-cert-auth<span class="o">=</span><span class="nb">true</span> --data-dir<span class="o">=</span>/var/lib/minikube/etcd --initial-advertise-peer-urls<span class="o">=</span>https://192.168.49.2:2380 --initial-cluster<span class="o">=</span><span class="nv">minikube</span><span class="o">=</span>https://192.168.49.2:2380 --key-file<span class="o">=</span>/var/lib/minikube/certs/etcd/server.key --listen-client-urls<span class="o">=</span>https://127.0.0.1:2379,https://192.168.49.2:2379 --listen-metrics-urls<span class="o">=</span>http://127.0.0.1:2381 --listen-peer-urls<span class="o">=</span>https://192.168.49.2:2380 --name<span class="o">=</span>minikube --peer-cert-file<span class="o">=</span>/var/lib/minikube/certs/etcd/peer.crt --peer-client-cert-auth<span class="o">=</span><span class="nb">true</span> --peer-key-file<span class="o">=</span>/var/lib/minikube/certs/etcd/peer.key --peer-trusted-ca-file<span class="o">=</span>/var/lib/minikube/certs/etcd/ca.crt --proxy-refresh-interval<span class="o">=</span><span class="m">70000</span> --snapshot-count<span class="o">=</span><span class="m">10000</span> --trusted-ca-file<span class="o">=</span>/var/lib/minikube/certs/etcd/ca.crt
root       <span class="m">38208</span>   <span class="m">37775</span>  <span class="m">0</span> <span class="m">01</span>:14 pts/1    <span class="m">00</span>:00:00 grep --color<span class="o">=</span>auto -iw etcd 
root@minikube:/# 


Node-Components:
--------------------------------&gt;

root@minikube:/# ps -eaf <span class="p">|</span> grep -i <span class="s2">&quot;kubelet &quot;</span>
root         <span class="m">852</span>       <span class="m">1</span> <span class="m">12</span> Sep04 ?        <span class="m">00</span>:20:57 /var/lib/minikube/binaries/v1.20.2/kubelet --bootstrap-kubeconfig<span class="o">=</span>/etc/kubernetes/bootstrap-kubelet.conf --config<span class="o">=</span>/var/lib/kubelet/config.yaml --container-runtime<span class="o">=</span>docker --hostname-override<span class="o">=</span>minikube --kubeconfig<span class="o">=</span>/etc/kubernetes/kubelet.conf --node-ip<span class="o">=</span><span class="m">192</span>.168.49.2
root       <span class="m">38499</span>   <span class="m">37775</span>  <span class="m">0</span> <span class="m">01</span>:15 pts/1    <span class="m">00</span>:00:00 grep --color<span class="o">=</span>auto -i kubelet 
root@minikube:/# 

root@minikube:/# ps -eaf <span class="p">|</span> grep -i <span class="s2">&quot;kube-proxy &quot;</span>
root        <span class="m">2898</span>    <span class="m">2864</span>  <span class="m">0</span> Sep04 ?        <span class="m">00</span>:00:10 /usr/local/bin/kube-proxy --config<span class="o">=</span>/var/lib/kube-proxy/config.conf --hostname-override<span class="o">=</span>minikube
root       <span class="m">38563</span>   <span class="m">37775</span>  <span class="m">0</span> <span class="m">01</span>:16 pts/1    <span class="m">00</span>:00:00 grep --color<span class="o">=</span>auto -i kube-proxy 
root@minikube:/# 
</pre></div>
</div>
</div>
<p>etcd</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">etcd</span><a class="headerlink" href="#id2" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>If you run  minikube <span class="k">in</span> your <span class="nb">local</span> macbook it emulates a docker as below <span class="k">in</span> your <span class="nb">local</span> box.

bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ docker ps
CONTAINER ID        IMAGE                                 COMMAND                  CREATED             STATUS              PORTS                                                                                                                                  NAMES
8271f1c15e16        gcr.io/k8s-minikube/kicbase:v0.0.22   <span class="s2">&quot;/usr/local/bin/entr…&quot;</span>   About an hour ago   Up About an hour    <span class="m">127</span>.0.0.1:32777-&gt;22/tcp, <span class="m">127</span>.0.0.1:32776-&gt;2376/tcp, <span class="m">127</span>.0.0.1:32775-&gt;5000/tcp, <span class="m">127</span>.0.0.1:32774-&gt;8443/tcp, <span class="m">127</span>.0.0.1:32773-&gt;32443/tcp   minikube
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ curl localhost:32774
Client sent an HTTP request to an HTTPS server.
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 




bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ telnet localhost <span class="m">2379</span>
Trying ::1...
Connection failed: Connection refused
Trying <span class="m">127</span>.0.0.1...
Connected to localhost.
Escape character is <span class="s1">&#39;^]&#39;</span>.
^<span class="o">]</span>
telnet&gt; quit
Connection closed.
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ etcdctl put bharath honest_guy
OK
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ etcdctl get bharath
bharath
honest_guy
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl <span class="nb">exec</span> -it etcd-kind-control-plane  -n kube-system sh
kubectl <span class="nb">exec</span> <span class="o">[</span>POD<span class="o">]</span> <span class="o">[</span>COMMAND<span class="o">]</span> is DEPRECATED and will be removed <span class="k">in</span> a future version. Use kubectl <span class="nb">exec</span> <span class="o">[</span>POD<span class="o">]</span> -- <span class="o">[</span>COMMAND<span class="o">]</span> instead.
sh-5.0# 


etcdctl --endpoints<span class="o">=</span>localhost:2379 get / --prefix --keys-only


bharathdasaraju@MacBook-Pro ~ $ minikube start
😄  minikube v1.20.0 on Darwin <span class="m">11</span>.2.3
✨  Using the docker driver based on existing profile
👍  Starting control plane node minikube <span class="k">in</span> cluster minikube
🚜  Pulling base image ...
🔄  Restarting existing docker container <span class="k">for</span> <span class="s2">&quot;minikube&quot;</span> ...
🐳  Preparing Kubernetes v1.20.2 on Docker <span class="m">20</span>.10.6 ...- 
🔎  Verifying Kubernetes components...
    ▪ Using image gcr.io/k8s-minikube/storage-provisioner:v5
🌟  Enabled addons: storage-provisioner, default-storageclass
🏄  Done! kubectl is now configured to use <span class="s2">&quot;minikube&quot;</span> cluster and <span class="s2">&quot;default&quot;</span> namespace by default
bharathdasaraju@MacBook-Pro ~ $ 
bharathdasaraju@MacBook-Pro ~ $ kubectl get nodes -o wide
NAME       STATUS   ROLES                  AGE     VERSION   INTERNAL-IP    EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION    CONTAINER-RUNTIME
minikube   Ready    control-plane,master   2m48s   v1.20.2   <span class="m">192</span>.168.49.2   &lt;none&gt;        Ubuntu <span class="m">20</span>.04.2 LTS   <span class="m">5</span>.4.39-linuxkit   docker://20.10.6
bharathdasaraju@MacBook-Pro ~ $ 



bharathdasaraju@MacBook-Pro ~ $ kubectl get pod/etcd-minikube -n kube-system -o yaml <span class="p">|</span> grep -i <span class="s2">&quot;192&quot;</span>
    kubeadm.kubernetes.io/etcd.advertise-client-urls: https://192.168.49.2:2379
          k:<span class="o">{</span><span class="s2">&quot;ip&quot;</span>:<span class="s2">&quot;192.168.49.2&quot;</span><span class="o">}</span>:
    - --advertise-client-urls<span class="o">=</span>https://192.168.49.2:2379
    - --initial-advertise-peer-urls<span class="o">=</span>https://192.168.49.2:2380
    - --initial-cluster<span class="o">=</span><span class="nv">minikube</span><span class="o">=</span>https://192.168.49.2:2380
    - --listen-client-urls<span class="o">=</span>https://127.0.0.1:2379,https://192.168.49.2:2379
    - --listen-peer-urls<span class="o">=</span>https://192.168.49.2:2380
  hostIP: <span class="m">192</span>.168.49.2
  podIP: <span class="m">192</span>.168.49.2
  - ip: <span class="m">192</span>.168.49.2
bharathdasaraju@MacBook-Pro ~ $ 



bharathdasaraju@MacBook-Pro ~ $ kubectl <span class="nb">exec</span> etcd-minikube -n kube-system -- etcdctl --endpoints https://192.168.49.2:2379 --cacert /var/lib/minikube/certs/etcd/ca.crt --cert /var/lib/minikube/certs/etcd/server.crt --key /var/lib/minikube/certs/etcd/server.key get / --prefix --keys-only
/registry/apiregistration.k8s.io/apiservices/v1.
/registry/apiregistration.k8s.io/apiservices/v1.admissionregistration.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.apiextensions.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.apps
/registry/apiregistration.k8s.io/apiservices/v1.authentication.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.authorization.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.autoscaling
/registry/apiregistration.k8s.io/apiservices/v1.batch
/registry/apiregistration.k8s.io/apiservices/v1.certificates.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.coordination.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.events.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.networking.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.node.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.rbac.authorization.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.scheduling.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.storage.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.admissionregistration.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.apiextensions.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.authentication.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.authorization.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.batch
/registry/apiregistration.k8s.io/apiservices/v1beta1.certificates.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.coordination.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.discovery.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.events.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.extensions
/registry/apiregistration.k8s.io/apiservices/v1beta1.flowcontrol.apiserver.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.networking.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.node.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.policy
/registry/apiregistration.k8s.io/apiservices/v1beta1.rbac.authorization.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.scheduling.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.storage.k8s.io
/registry/apiregistration.k8s.io/apiservices/v2beta1.autoscaling
/registry/apiregistration.k8s.io/apiservices/v2beta2.autoscaling
/registry/certificatesigningrequests/csr-scxvm
/registry/clusterrolebindings/cluster-admin
/registry/clusterrolebindings/kubeadm:get-nodes
/registry/clusterrolebindings/kubeadm:kubelet-bootstrap
/registry/clusterrolebindings/kubeadm:node-autoapprove-bootstrap
/registry/clusterrolebindings/kubeadm:node-autoapprove-certificate-rotation
/registry/clusterrolebindings/kubeadm:node-proxier
/registry/clusterrolebindings/minikube-rbac
/registry/clusterrolebindings/storage-provisioner
/registry/clusterrolebindings/system:basic-user
/registry/clusterrolebindings/system:controller:attachdetach-controller
/registry/clusterrolebindings/system:controller:certificate-controller
/registry/clusterrolebindings/system:controller:clusterrole-aggregation-controller
/registry/clusterrolebindings/system:controller:cronjob-controller
/registry/clusterrolebindings/system:controller:daemon-set-controller
/registry/clusterrolebindings/system:controller:deployment-controller
/registry/clusterrolebindings/system:controller:disruption-controller
/registry/clusterrolebindings/system:controller:endpoint-controller
/registry/clusterrolebindings/system:controller:endpointslice-controller
/registry/clusterrolebindings/system:controller:endpointslicemirroring-controller
/registry/clusterrolebindings/system:controller:expand-controller
/registry/clusterrolebindings/system:controller:generic-garbage-collector
/registry/clusterrolebindings/system:controller:horizontal-pod-autoscaler
/registry/clusterrolebindings/system:controller:job-controller
/registry/clusterrolebindings/system:controller:namespace-controller
/registry/clusterrolebindings/system:controller:node-controller
/registry/clusterrolebindings/system:controller:persistent-volume-binder
/registry/clusterrolebindings/system:controller:pod-garbage-collector
/registry/clusterrolebindings/system:controller:pv-protection-controller
/registry/clusterrolebindings/system:controller:pvc-protection-controller
/registry/clusterrolebindings/system:controller:replicaset-controller
/registry/clusterrolebindings/system:controller:replication-controller
/registry/clusterrolebindings/system:controller:resourcequota-controller
/registry/clusterrolebindings/system:controller:root-ca-cert-publisher
/registry/clusterrolebindings/system:controller:route-controller
/registry/clusterrolebindings/system:controller:service-account-controller
/registry/clusterrolebindings/system:controller:service-controller
/registry/clusterrolebindings/system:controller:statefulset-controller
/registry/clusterrolebindings/system:controller:ttl-controller
/registry/clusterrolebindings/system:coredns
/registry/clusterrolebindings/system:discovery
/registry/clusterrolebindings/system:kube-controller-manager
/registry/clusterrolebindings/system:kube-dns
/registry/clusterrolebindings/system:kube-scheduler
/registry/clusterrolebindings/system:monitoring
/registry/clusterrolebindings/system:node
/registry/clusterrolebindings/system:node-proxier
/registry/clusterrolebindings/system:public-info-viewer
/registry/clusterrolebindings/system:service-account-issuer-discovery
/registry/clusterrolebindings/system:volume-scheduler
/registry/clusterroles/admin
/registry/clusterroles/cluster-admin
/registry/clusterroles/edit
/registry/clusterroles/kubeadm:get-nodes
/registry/clusterroles/system:aggregate-to-admin
/registry/clusterroles/system:aggregate-to-edit
/registry/clusterroles/system:aggregate-to-view
/registry/clusterroles/system:auth-delegator
/registry/clusterroles/system:basic-user
/registry/clusterroles/system:certificates.k8s.io:certificatesigningrequests:nodeclient
/registry/clusterroles/system:certificates.k8s.io:certificatesigningrequests:selfnodeclient
/registry/clusterroles/system:certificates.k8s.io:kube-apiserver-client-approver
/registry/clusterroles/system:certificates.k8s.io:kube-apiserver-client-kubelet-approver
/registry/clusterroles/system:certificates.k8s.io:kubelet-serving-approver
/registry/clusterroles/system:certificates.k8s.io:legacy-unknown-approver
/registry/clusterroles/system:controller:attachdetach-controller
/registry/clusterroles/system:controller:certificate-controller
/registry/clusterroles/system:controller:clusterrole-aggregation-controller
/registry/clusterroles/system:controller:cronjob-controller
/registry/clusterroles/system:controller:daemon-set-controller
/registry/clusterroles/system:controller:deployment-controller
/registry/clusterroles/system:controller:disruption-controller
/registry/clusterroles/system:controller:endpoint-controller
/registry/clusterroles/system:controller:endpointslice-controller
/registry/clusterroles/system:controller:endpointslicemirroring-controller
/registry/clusterroles/system:controller:expand-controller
/registry/clusterroles/system:controller:generic-garbage-collector
/registry/clusterroles/system:controller:horizontal-pod-autoscaler
/registry/clusterroles/system:controller:job-controller
/registry/clusterroles/system:controller:namespace-controller
/registry/clusterroles/system:controller:node-controller
/registry/clusterroles/system:controller:persistent-volume-binder
/registry/clusterroles/system:controller:pod-garbage-collector
/registry/clusterroles/system:controller:pv-protection-controller
/registry/clusterroles/system:controller:pvc-protection-controller
/registry/clusterroles/system:controller:replicaset-controller
/registry/clusterroles/system:controller:replication-controller
/registry/clusterroles/system:controller:resourcequota-controller
/registry/clusterroles/system:controller:root-ca-cert-publisher
/registry/clusterroles/system:controller:route-controller
/registry/clusterroles/system:controller:service-account-controller
/registry/clusterroles/system:controller:service-controller
/registry/clusterroles/system:controller:statefulset-controller
/registry/clusterroles/system:controller:ttl-controller
/registry/clusterroles/system:coredns
/registry/clusterroles/system:discovery
/registry/clusterroles/system:heapster
/registry/clusterroles/system:kube-aggregator
/registry/clusterroles/system:kube-controller-manager
/registry/clusterroles/system:kube-dns
/registry/clusterroles/system:kube-scheduler
/registry/clusterroles/system:kubelet-api-admin
/registry/clusterroles/system:monitoring
/registry/clusterroles/system:node
/registry/clusterroles/system:node-bootstrapper
/registry/clusterroles/system:node-problem-detector
/registry/clusterroles/system:node-proxier
/registry/clusterroles/system:persistent-volume-provisioner
/registry/clusterroles/system:public-info-viewer
/registry/clusterroles/system:service-account-issuer-discovery
/registry/clusterroles/system:volume-scheduler
/registry/clusterroles/view
/registry/configmaps/default/kube-root-ca.crt
/registry/configmaps/kube-node-lease/kube-root-ca.crt
/registry/configmaps/kube-public/cluster-info
/registry/configmaps/kube-public/kube-root-ca.crt
/registry/configmaps/kube-system/coredns
/registry/configmaps/kube-system/extension-apiserver-authentication
/registry/configmaps/kube-system/kube-proxy
/registry/configmaps/kube-system/kube-root-ca.crt
/registry/configmaps/kube-system/kubeadm-config
/registry/configmaps/kube-system/kubelet-config-1.20
/registry/controllerrevisions/kube-system/kube-proxy-b89db7f56
/registry/csinodes/minikube
/registry/daemonsets/kube-system/kube-proxy
/registry/deployments/kube-system/coredns
/registry/endpointslices/default/kubernetes
/registry/endpointslices/kube-system/kube-dns-9xfbw
/registry/events/default/minikube.16a18be4b7100538
/registry/events/default/minikube.16a18be4cca0b168
/registry/events/default/minikube.16a18be4cca1a014
/registry/events/default/minikube.16a18be4cca33910
/registry/events/default/minikube.16a18be4e2a57390
/registry/events/default/minikube.16a18be500264638
/registry/events/default/minikube.16a18be70d57d234
/registry/events/default/minikube.16a18be737e5b624
/registry/events/default/minikube.16a18be88fa18450
/registry/events/default/minikube.16a18be88fff0ae4
/registry/events/default/minikube.16a18bff9ae000dc
/registry/events/default/minikube.16a18bffab3fc5d4
/registry/events/default/minikube.16a18bffab4337dc
/registry/events/default/minikube.16a18bffab43eb8c
/registry/events/default/minikube.16a18bffb856d5b4
/registry/events/default/minikube.16a18c0567a6f3f0
/registry/events/default/minikube.16a18c0567c27300
/registry/events/default/minikube.16a18c06e82561c8
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18be742c04514
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18be7da9adc00
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18be87a2ae0f8
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18be88241dd3c
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18be8b317a838
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18c04b11c72f4
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18c0532ad6300
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18c05408d550c
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18c055b65a58c
/registry/events/kube-system/coredns-74ff55c5b-plhmt.16a18c07074c8f18
/registry/events/kube-system/coredns-74ff55c5b.16a18be7464bf318
/registry/events/kube-system/coredns.16a18be73ba3ec7c
/registry/events/kube-system/etcd-minikube.16a18bffc94ead88
/registry/events/kube-system/etcd-minikube.16a18c0003563654
/registry/events/kube-system/etcd-minikube.16a18c001158e878
/registry/events/kube-system/etcd-minikube.16a18c0035eab978
/registry/events/kube-system/k8s.io-minikube-hostpath.16a18be9c719b208
/registry/events/kube-system/k8s.io-minikube-hostpath.16a18c133afda854
/registry/events/kube-system/kube-apiserver-minikube.16a18be7460f1e70
/registry/events/kube-system/kube-apiserver-minikube.16a18bffd59f6e38
/registry/events/kube-system/kube-apiserver-minikube.16a18c000fa728a0
/registry/events/kube-system/kube-apiserver-minikube.16a18c001b1c3b08
/registry/events/kube-system/kube-apiserver-minikube.16a18c0042d614ac
/registry/events/kube-system/kube-apiserver-minikube.16a18c03068ac4e0
/registry/events/kube-system/kube-controller-manager-minikube.16a18bffe406f9f0
/registry/events/kube-system/kube-controller-manager-minikube.16a18c001a9b6758
/registry/events/kube-system/kube-controller-manager-minikube.16a18c0023552348
/registry/events/kube-system/kube-controller-manager-minikube.16a18c0056fe4c4c
/registry/events/kube-system/kube-proxy-w85sf.16a18be76ec9e6b0
/registry/events/kube-system/kube-proxy-w85sf.16a18be7c3afbdf8
/registry/events/kube-system/kube-proxy-w85sf.16a18be7d22c9d74
/registry/events/kube-system/kube-proxy-w85sf.16a18be81a6037cc
/registry/events/kube-system/kube-proxy-w85sf.16a18c04c505a2a4
/registry/events/kube-system/kube-proxy-w85sf.16a18c0510a67940
/registry/events/kube-system/kube-proxy-w85sf.16a18c051bc0eb44
/registry/events/kube-system/kube-proxy-w85sf.16a18c054616dd54
/registry/events/kube-system/kube-proxy.16a18be745ff2498
/registry/events/kube-system/kube-scheduler-minikube.16a18bfff14fcf38
/registry/events/kube-system/kube-scheduler-minikube.16a18c002877e568
/registry/events/kube-system/kube-scheduler-minikube.16a18c002f00620c
/registry/events/kube-system/kube-scheduler-minikube.16a18c005cfa74b8
/registry/events/kube-system/storage-provisioner.16a18be4716e7e74
/registry/events/kube-system/storage-provisioner.16a18be9444edd58
/registry/events/kube-system/storage-provisioner.16a18be983957148
/registry/events/kube-system/storage-provisioner.16a18be98a7f0d34
/registry/events/kube-system/storage-provisioner.16a18be9a3c8f9d0
/registry/events/kube-system/storage-provisioner.16a18c04abb0f9fc
/registry/events/kube-system/storage-provisioner.16a18c04e979be2c
/registry/events/kube-system/storage-provisioner.16a18c04f27351dc
/registry/events/kube-system/storage-provisioner.16a18c052fdd62b0
/registry/events/kube-system/storage-provisioner.16a18c0c68bb6918
/registry/flowschemas/catch-all
/registry/flowschemas/exempt
/registry/flowschemas/global-default
/registry/flowschemas/kube-controller-manager
/registry/flowschemas/kube-scheduler
/registry/flowschemas/kube-system-service-accounts
/registry/flowschemas/service-accounts
/registry/flowschemas/system-leader-election
/registry/flowschemas/system-nodes
/registry/flowschemas/workload-leader-election
/registry/leases/kube-node-lease/minikube
/registry/masterleases/192.168.49.2
/registry/minions/minikube
/registry/namespaces/default
/registry/namespaces/kube-node-lease
/registry/namespaces/kube-public
/registry/namespaces/kube-system
/registry/pods/kube-system/coredns-74ff55c5b-plhmt
/registry/pods/kube-system/etcd-minikube
/registry/pods/kube-system/kube-apiserver-minikube
/registry/pods/kube-system/kube-controller-manager-minikube
/registry/pods/kube-system/kube-proxy-w85sf
/registry/pods/kube-system/kube-scheduler-minikube
/registry/pods/kube-system/storage-provisioner
/registry/priorityclasses/system-cluster-critical
/registry/priorityclasses/system-node-critical
/registry/prioritylevelconfigurations/catch-all
/registry/prioritylevelconfigurations/exempt
/registry/prioritylevelconfigurations/global-default
/registry/prioritylevelconfigurations/leader-election
/registry/prioritylevelconfigurations/system
/registry/prioritylevelconfigurations/workload-high
/registry/prioritylevelconfigurations/workload-low
/registry/ranges/serviceips
/registry/ranges/servicenodeports
/registry/replicasets/kube-system/coredns-74ff55c5b
/registry/rolebindings/kube-public/kubeadm:bootstrap-signer-clusterinfo
/registry/rolebindings/kube-public/system:controller:bootstrap-signer
/registry/rolebindings/kube-system/kube-proxy
/registry/rolebindings/kube-system/kubeadm:kubelet-config-1.20
/registry/rolebindings/kube-system/kubeadm:nodes-kubeadm-config
/registry/rolebindings/kube-system/system::extension-apiserver-authentication-reader
/registry/rolebindings/kube-system/system::leader-locking-kube-controller-manager
/registry/rolebindings/kube-system/system::leader-locking-kube-scheduler
/registry/rolebindings/kube-system/system:controller:bootstrap-signer
/registry/rolebindings/kube-system/system:controller:cloud-provider
/registry/rolebindings/kube-system/system:controller:token-cleaner
/registry/rolebindings/kube-system/system:persistent-volume-provisioner
/registry/roles/kube-public/kubeadm:bootstrap-signer-clusterinfo
/registry/roles/kube-public/system:controller:bootstrap-signer
/registry/roles/kube-system/extension-apiserver-authentication-reader
/registry/roles/kube-system/kube-proxy
/registry/roles/kube-system/kubeadm:kubelet-config-1.20
/registry/roles/kube-system/kubeadm:nodes-kubeadm-config
/registry/roles/kube-system/system::leader-locking-kube-controller-manager
/registry/roles/kube-system/system::leader-locking-kube-scheduler
/registry/roles/kube-system/system:controller:bootstrap-signer
/registry/roles/kube-system/system:controller:cloud-provider
/registry/roles/kube-system/system:controller:token-cleaner
/registry/roles/kube-system/system:persistent-volume-provisioner
/registry/secrets/default/default-token-lxpp9
/registry/secrets/kube-node-lease/default-token-tvrxs
/registry/secrets/kube-public/default-token-49sct
/registry/secrets/kube-system/attachdetach-controller-token-966hx
/registry/secrets/kube-system/bootstrap-signer-token-8l2q5
/registry/secrets/kube-system/bootstrap-token-1eo1in
/registry/secrets/kube-system/certificate-controller-token-4gkjg
/registry/secrets/kube-system/clusterrole-aggregation-controller-token-pm2bh
/registry/secrets/kube-system/coredns-token-t7784
/registry/secrets/kube-system/cronjob-controller-token-5jt7h
/registry/secrets/kube-system/daemon-set-controller-token-pwkrh
/registry/secrets/kube-system/default-token-dfnc4
/registry/secrets/kube-system/deployment-controller-token-9vhsp
/registry/secrets/kube-system/disruption-controller-token-c54kt
/registry/secrets/kube-system/endpoint-controller-token-hm49x
/registry/secrets/kube-system/endpointslice-controller-token-m6wvn
/registry/secrets/kube-system/endpointslicemirroring-controller-token-w6qlt
/registry/secrets/kube-system/expand-controller-token-2x7fc
/registry/secrets/kube-system/generic-garbage-collector-token-mnh22
/registry/secrets/kube-system/horizontal-pod-autoscaler-token-vt2g8
/registry/secrets/kube-system/job-controller-token-54xh4
/registry/secrets/kube-system/kube-proxy-token-qsxdd
/registry/secrets/kube-system/namespace-controller-token-kndll
/registry/secrets/kube-system/node-controller-token-fzn8p
/registry/secrets/kube-system/persistent-volume-binder-token-gmgqp
/registry/secrets/kube-system/pod-garbage-collector-token-pq26q
/registry/secrets/kube-system/pv-protection-controller-token-hzmsl
/registry/secrets/kube-system/pvc-protection-controller-token-wtkk4
/registry/secrets/kube-system/replicaset-controller-token-dncxp
/registry/secrets/kube-system/replication-controller-token-ljk6m
/registry/secrets/kube-system/resourcequota-controller-token-gkchp
/registry/secrets/kube-system/root-ca-cert-publisher-token-km4f2
/registry/secrets/kube-system/service-account-controller-token-mb5qg
/registry/secrets/kube-system/service-controller-token-5glzt
/registry/secrets/kube-system/statefulset-controller-token-s7wqm
/registry/secrets/kube-system/storage-provisioner-token-z7lw7
/registry/secrets/kube-system/token-cleaner-token-7btq6
/registry/secrets/kube-system/ttl-controller-token-vc2wg
/registry/serviceaccounts/default/default
/registry/serviceaccounts/kube-node-lease/default
/registry/serviceaccounts/kube-public/default
/registry/serviceaccounts/kube-system/attachdetach-controller
/registry/serviceaccounts/kube-system/bootstrap-signer
/registry/serviceaccounts/kube-system/certificate-controller
/registry/serviceaccounts/kube-system/clusterrole-aggregation-controller
/registry/serviceaccounts/kube-system/coredns
/registry/serviceaccounts/kube-system/cronjob-controller
/registry/serviceaccounts/kube-system/daemon-set-controller
/registry/serviceaccounts/kube-system/default
/registry/serviceaccounts/kube-system/deployment-controller
/registry/serviceaccounts/kube-system/disruption-controller
/registry/serviceaccounts/kube-system/endpoint-controller
/registry/serviceaccounts/kube-system/endpointslice-controller
/registry/serviceaccounts/kube-system/endpointslicemirroring-controller
/registry/serviceaccounts/kube-system/expand-controller
/registry/serviceaccounts/kube-system/generic-garbage-collector
/registry/serviceaccounts/kube-system/horizontal-pod-autoscaler
/registry/serviceaccounts/kube-system/job-controller
/registry/serviceaccounts/kube-system/kube-proxy
/registry/serviceaccounts/kube-system/namespace-controller
/registry/serviceaccounts/kube-system/node-controller
/registry/serviceaccounts/kube-system/persistent-volume-binder
/registry/serviceaccounts/kube-system/pod-garbage-collector
/registry/serviceaccounts/kube-system/pv-protection-controller
/registry/serviceaccounts/kube-system/pvc-protection-controller
/registry/serviceaccounts/kube-system/replicaset-controller
/registry/serviceaccounts/kube-system/replication-controller
/registry/serviceaccounts/kube-system/resourcequota-controller
/registry/serviceaccounts/kube-system/root-ca-cert-publisher
/registry/serviceaccounts/kube-system/service-account-controller
/registry/serviceaccounts/kube-system/service-controller
/registry/serviceaccounts/kube-system/statefulset-controller
/registry/serviceaccounts/kube-system/storage-provisioner
/registry/serviceaccounts/kube-system/token-cleaner
/registry/serviceaccounts/kube-system/ttl-controller
/registry/services/endpoints/default/kubernetes
/registry/services/endpoints/kube-system/k8s.io-minikube-hostpath
/registry/services/endpoints/kube-system/kube-dns
/registry/services/specs/default/kubernetes
/registry/services/specs/kube-system/kube-dns
/registry/storageclasses/standard
bharathdasaraju@MacBook-Pro ~ $



bharathdasaraju@MacBook-Pro ~ $ kubectl <span class="nb">exec</span> etcd-minikube -n kube-system -- sh -c <span class="s2">&quot; etcdctl --endpoints https://192.168.49.2:2379 --cacert /var/lib/minikube/certs/etcd/ca.crt --cert /var/lib/minikube/certs/etcd/server.crt --key /var/lib/minikube/certs/etcd/server.key get / --prefix --keys-only --limit=10&quot;</span>
/registry/apiregistration.k8s.io/apiservices/v1.
/registry/apiregistration.k8s.io/apiservices/v1.admissionregistration.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.apiextensions.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.apps
/registry/apiregistration.k8s.io/apiservices/v1.authentication.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.authorization.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.autoscaling
/registry/apiregistration.k8s.io/apiservices/v1.batch
/registry/apiregistration.k8s.io/apiservices/v1.certificates.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.coordination.k8s.io
bharathdasaraju@MacBook-Pro ~ $


bharathdasaraju@MacBook-Pro ~ $ kubectl <span class="nb">exec</span> etcd-minikube -n kube-system -- sh -c <span class="s2">&quot; etcdctl --endpoints https://192.168.49.2:2379 --cacert /var/lib/minikube/certs/etcd/ca.crt --cert /var/lib/minikube/certs/etcd/server.crt --key /var/lib/minikube/certs/etcd/server.key get / --prefix --keys-only --limit=20&quot;</span>
/registry/apiregistration.k8s.io/apiservices/v1.
/registry/apiregistration.k8s.io/apiservices/v1.admissionregistration.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.apiextensions.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.apps
/registry/apiregistration.k8s.io/apiservices/v1.authentication.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.authorization.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.autoscaling
/registry/apiregistration.k8s.io/apiservices/v1.batch
/registry/apiregistration.k8s.io/apiservices/v1.certificates.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.coordination.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.events.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.networking.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.node.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.rbac.authorization.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.scheduling.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1.storage.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.admissionregistration.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.apiextensions.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.authentication.k8s.io
/registry/apiregistration.k8s.io/apiservices/v1beta1.authorization.k8s.io
bharathdasaraju@MacBook-Pro ~ $
</pre></div>
</div>
</div>
<p>kubeapiserver</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">apiserver</span><a class="headerlink" href="#id3" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bharathdasaraju@MacBook-Pro ~ $ kubectl get pod kube-apiserver-minikube -n kube-system -o yaml <span class="p">|</span> grep -i -C36 <span class="s2">&quot;command&quot;</span>
spec:
  containers:
  - command:
    - kube-apiserver
    - --advertise-address<span class="o">=</span><span class="m">192</span>.168.49.2
    - --allow-privileged<span class="o">=</span><span class="nb">true</span>
    - --authorization-mode<span class="o">=</span>Node,RBAC
    - --client-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt
    - --enable-admission-plugins<span class="o">=</span>NamespaceLifecycle,LimitRanger,ServiceAccount,DefaultStorageClass,DefaultTolerationSeconds,NodeRestriction,MutatingAdmissionWebhook,ValidatingAdmissionWebhook,ResourceQuota
    - --enable-bootstrap-token-auth<span class="o">=</span><span class="nb">true</span>
    - --etcd-cafile<span class="o">=</span>/var/lib/minikube/certs/etcd/ca.crt
    - --etcd-certfile<span class="o">=</span>/var/lib/minikube/certs/apiserver-etcd-client.crt
    - --etcd-keyfile<span class="o">=</span>/var/lib/minikube/certs/apiserver-etcd-client.key
    - --etcd-servers<span class="o">=</span>https://127.0.0.1:2379
    - --insecure-port<span class="o">=</span><span class="m">0</span>
    - --kubelet-client-certificate<span class="o">=</span>/var/lib/minikube/certs/apiserver-kubelet-client.crt
    - --kubelet-client-key<span class="o">=</span>/var/lib/minikube/certs/apiserver-kubelet-client.key
    - --kubelet-preferred-address-types<span class="o">=</span>InternalIP,ExternalIP,Hostname
    - --proxy-client-cert-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-client.crt
    - --proxy-client-key-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-client.key
    - --requestheader-allowed-names<span class="o">=</span>front-proxy-client
    - --requestheader-client-ca-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-ca.crt
    - --requestheader-extra-headers-prefix<span class="o">=</span>X-Remote-Extra-
    - --requestheader-group-headers<span class="o">=</span>X-Remote-Group
    - --requestheader-username-headers<span class="o">=</span>X-Remote-User
    - --secure-port<span class="o">=</span><span class="m">8443</span>
    - --service-account-issuer<span class="o">=</span>https://kubernetes.default.svc.cluster.local
    - --service-account-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.pub
    - --service-account-signing-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.key
    - --service-cluster-ip-range<span class="o">=</span><span class="m">10</span>.96.0.0/12
    - --tls-cert-file<span class="o">=</span>/var/lib/minikube/certs/apiserver.crt
    - --tls-private-key-file<span class="o">=</span>/var/lib/minikube/certs/apiserver.key
    image: k8s.gcr.io/kube-apiserver:v1.20.2
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: <span class="m">8</span>
      httpGet:
        host: <span class="m">192</span>.168.49.2
        path: /livez
bharathdasaraju@MacBook-Pro ~ $ 
</pre></div>
</div>
</div>
<p>kubecontrollermanager</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">kubecontrollermanager</span><a class="headerlink" href="#id4" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">1</span>. Node Controller
<span class="m">2</span>. Replica Controller
<span class="m">3</span>. Deployment Controller
<span class="m">4</span>. Namespace Controller
<span class="m">5</span>. Endpoint Controller
<span class="m">6</span>. Job Controller
<span class="m">7</span>. Service-Account-Controller
<span class="m">8</span>. Stateful-Set 
<span class="m">9</span>. PV-Binder-Controller
<span class="m">10</span>. PV-Protection-Controller 
...
...
Many more




bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl get pod kube-controller-manager-minikube -n kube-system -o yaml <span class="p">|</span> grep -iC45 <span class="s2">&quot;kube-controller-manager&quot;</span>
spec:
  containers:
  - command:
    - kube-controller-manager
    - --allocate-node-cidrs<span class="o">=</span><span class="nb">true</span>
    - --authentication-kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf
    - --authorization-kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf
    - --bind-address<span class="o">=</span><span class="m">127</span>.0.0.1
    - --client-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt
    - --cluster-cidr<span class="o">=</span><span class="m">10</span>.244.0.0/16
    - --cluster-name<span class="o">=</span>mk
    - --cluster-signing-cert-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt
    - --cluster-signing-key-file<span class="o">=</span>/var/lib/minikube/certs/ca.key
    - --controllers<span class="o">=</span>*,bootstrapsigner,tokencleaner
    - --kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf
    - --leader-elect<span class="o">=</span><span class="nb">false</span>
    - --port<span class="o">=</span><span class="m">0</span>
    - --requestheader-client-ca-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-ca.crt
    - --root-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt
    - --service-account-private-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.key
    - --service-cluster-ip-range<span class="o">=</span><span class="m">10</span>.96.0.0/12
    - --use-service-account-credentials<span class="o">=</span><span class="nb">true</span>
--
    - --allocate-node-cidrs<span class="o">=</span><span class="nb">true</span>
    - --authentication-kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf
    - --authorization-kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf
    - --bind-address<span class="o">=</span><span class="m">127</span>.0.0.1
    - --client-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt
    - --cluster-cidr<span class="o">=</span><span class="m">10</span>.244.0.0/16
    - --cluster-name<span class="o">=</span>mk
    - --cluster-signing-cert-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt
    - --cluster-signing-key-file<span class="o">=</span>/var/lib/minikube/certs/ca.key
    - --controllers<span class="o">=</span>*,bootstrapsigner,tokencleaner
    - --kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf
    - --leader-elect<span class="o">=</span><span class="nb">false</span>
    - --port<span class="o">=</span><span class="m">0</span>
    - --requestheader-client-ca-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-ca.crt
    - --root-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt
    - --service-account-private-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.key
    - --service-cluster-ip-range<span class="o">=</span><span class="m">10</span>.96.0.0/12
    - --use-service-account-credentials<span class="o">=</span><span class="nb">true</span>
    image: k8s.gcr.io/kube-controller-manager:v1.20.2
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: <span class="m">8</span>
      httpGet:
        host: <span class="m">127</span>.0.0.1
        path: /healthz
        port: <span class="m">10257</span>
        scheme: HTTPS
      initialDelaySeconds: <span class="m">10</span>
      periodSeconds: <span class="m">10</span>
      successThreshold: <span class="m">1</span>
      timeoutSeconds: <span class="m">15</span>
</pre></div>
</div>
</div>
<p>kubescheduler</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">kubescheduler</span><a class="headerlink" href="#id5" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl get all --all-namespaces <span class="p">|</span> grep -i <span class="s2">&quot;scheduler&quot;</span>
kube-system   pod/kube-scheduler-minikube            <span class="m">1</span>/1     Running   <span class="m">1</span>          92m
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 



  uid: 1487f521-591a-4fa5-829a-9554400a9992
spec:
  containers:
  - command:
    - kube-scheduler
    - --authentication-kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf
    - --authorization-kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf
    - --bind-address<span class="o">=</span><span class="m">127</span>.0.0.1
    - --kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf
    - --leader-elect<span class="o">=</span><span class="nb">false</span>
    - --port<span class="o">=</span><span class="m">0</span>
--
    - --authentication-kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf
    - --authorization-kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf
    - --bind-address<span class="o">=</span><span class="m">127</span>.0.0.1
    - --kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf
    - --leader-elect<span class="o">=</span><span class="nb">false</span>
    - --port<span class="o">=</span><span class="m">0</span>
    image: k8s.gcr.io/kube-scheduler:v1.20.2
    imagePullPolicy: IfNotPresent
    livenessProbe:
      failureThreshold: <span class="m">8</span>
      httpGet:
        host: <span class="m">127</span>.0.0.1
        path: /healthz
        port: <span class="m">10259</span>
        scheme: HTTPS
      initialDelaySeconds: <span class="m">10</span>
      periodSeconds: <span class="m">10</span>
      successThreshold: <span class="m">1</span>
      timeoutSeconds: <span class="m">15</span>

      
</pre></div>
</div>
</div>
<p>kubelet</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">kubelet</span><a class="headerlink" href="#id6" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Kubelet registers the nodes with the cluster.


bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ docker ps
CONTAINER ID        IMAGE                                 COMMAND                  CREATED             STATUS              PORTS                                                                                                                                  NAMES
8271f1c15e16        gcr.io/k8s-minikube/kicbase:v0.0.22   <span class="s2">&quot;/usr/local/bin/entr…&quot;</span>   <span class="m">2</span> hours ago         Up <span class="m">2</span> hours          <span class="m">127</span>.0.0.1:32777-&gt;22/tcp, <span class="m">127</span>.0.0.1:32776-&gt;2376/tcp, <span class="m">127</span>.0.0.1:32775-&gt;5000/tcp, <span class="m">127</span>.0.0.1:32774-&gt;8443/tcp, <span class="m">127</span>.0.0.1:32773-&gt;32443/tcp   minikube
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ docker <span class="nb">exec</span> -it 8271f1c15e16 bash
root@minikube:/# 

root@minikube:/# ps auxwww
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root           <span class="m">1</span>  <span class="m">0</span>.0  <span class="m">0</span>.5  <span class="m">21948</span> <span class="m">11316</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:01 /sbin/init
root         <span class="m">176</span>  <span class="m">0</span>.0  <span class="m">0</span>.4  <span class="m">26944</span>  <span class="m">8828</span> ?        S&lt;s  <span class="m">06</span>:54   <span class="m">0</span>:00 /lib/systemd/systemd-journald
message+     <span class="m">188</span>  <span class="m">0</span>.0  <span class="m">0</span>.1   <span class="m">7004</span>  <span class="m">3744</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/dbus-daemon --system --address<span class="o">=</span>systemd: --nofork --nopidfile --systemd-activation --syslog-only
root         <span class="m">191</span>  <span class="m">0</span>.3  <span class="m">2</span>.4 <span class="m">899352</span> <span class="m">49904</span> ?        Ssl  <span class="m">06</span>:54   <span class="m">0</span>:22 /usr/bin/containerd
root         <span class="m">198</span>  <span class="m">0</span>.0  <span class="m">0</span>.3  <span class="m">12176</span>  <span class="m">7272</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:00 sshd: /usr/sbin/sshd -D <span class="o">[</span>listener<span class="o">]</span> <span class="m">0</span> of <span class="m">10</span>-100 startups
root         <span class="m">211</span>  <span class="m">3</span>.4  <span class="m">5</span>.2 <span class="m">1332080</span> <span class="m">106076</span> ?      Ssl  <span class="m">06</span>:54   <span class="m">3</span>:23 /usr/bin/dockerd -H tcp://0.0.0.0:2376 -H unix:///var/run/docker.sock --default-ulimit<span class="o">=</span><span class="nv">nofile</span><span class="o">=</span><span class="m">1048576</span>:1048576 --tlsverify --tlscacert /etc/docker/ca.pem --tlscert /etc/docker/server.pem --tlskey /etc/docker/server-key.pem --label <span class="nv">provider</span><span class="o">=</span>docker --insecure-registry <span class="m">10</span>.96.0.0/12
root         <span class="m">852</span> <span class="m">13</span>.0  <span class="m">5</span>.1 <span class="m">1853424</span> <span class="m">103888</span> ?      Ssl  <span class="m">06</span>:54  <span class="m">12</span>:40 /var/lib/minikube/binaries/v1.20.2/kubelet --bootstrap-kubeconfig<span class="o">=</span>/etc/kubernetes/bootstrap-kubelet.conf --config<span class="o">=</span>/var/lib/kubelet/config.yaml --container-runtime<span class="o">=</span>docker --hostname-override<span class="o">=</span>minikube --kubeconfig<span class="o">=</span>/etc/kubernetes/kubelet.conf --node-ip<span class="o">=</span><span class="m">192</span>.168.49.2
root        <span class="m">1380</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">113116</span>  <span class="m">7376</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 0521ed07a4bc29e48c4ae345375861a9c7ce679cc00a3a6aaec2de20a55c5ac1 -address /run/containerd/containerd.sock
root        <span class="m">1413</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">111708</span>  <span class="m">8032</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id be68ef7cc6eadc76b69492d4a5b5d737b20071358843a2547ecadd60091c0c44 -address /run/containerd/containerd.sock
root        <span class="m">1459</span>  <span class="m">0</span>.0  <span class="m">0</span>.0    <span class="m">964</span>     <span class="m">4</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:00 /pause
root        <span class="m">1484</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">113372</span>  <span class="m">8008</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 76c11b9d89f8c80fe78fba4e4765874f29918bb167eab657e318df429799871c -address /run/containerd/containerd.sock
root        <span class="m">1492</span>  <span class="m">0</span>.0  <span class="m">0</span>.0    <span class="m">964</span>     <span class="m">4</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:00 /pause
root        <span class="m">1553</span>  <span class="m">0</span>.0  <span class="m">0</span>.0    <span class="m">964</span>     <span class="m">4</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:00 /pause
root        <span class="m">1573</span>  <span class="m">0</span>.0  <span class="m">0</span>.4 <span class="m">113116</span>  <span class="m">8152</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 2670ae8640aed0b9856a3a4d3c7d3dc5077da3db73807378ad2ddc948607e6c7 -address /run/containerd/containerd.sock
root        <span class="m">1614</span>  <span class="m">0</span>.0  <span class="m">0</span>.0    <span class="m">964</span>     <span class="m">4</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:00 /pause
root        <span class="m">1651</span>  <span class="m">0</span>.0  <span class="m">0</span>.4 <span class="m">113372</span>  <span class="m">8256</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:01 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 43d8dfc0dbd698df1be1f870147100cd66932cd15595ebdebf44d94863818a27 -address /run/containerd/containerd.sock
root        <span class="m">1689</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">113372</span>  <span class="m">8128</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 66439383eeb9ffb1f38dbea9b75d618988f48e0e98dca7bbc65e0484599a372b -address /run/containerd/containerd.sock
root        <span class="m">1708</span>  <span class="m">4</span>.9  <span class="m">2</span>.6 <span class="m">10612468</span> <span class="m">54272</span> ?      Ssl  <span class="m">06</span>:54   <span class="m">4</span>:46 etcd --advertise-client-urls<span class="o">=</span>https://192.168.49.2:2379 --cert-file<span class="o">=</span>/var/lib/minikube/certs/etcd/server.crt --client-cert-auth<span class="o">=</span><span class="nb">true</span> --data-dir<span class="o">=</span>/var/lib/minikube/etcd --initial-advertise-peer-urls<span class="o">=</span>https://192.168.49.2:2380 --initial-cluster<span class="o">=</span><span class="nv">minikube</span><span class="o">=</span>https://192.168.49.2:2380 --key-file<span class="o">=</span>/var/lib/minikube/certs/etcd/server.key --listen-client-urls<span class="o">=</span>https://127.0.0.1:2379,https://192.168.49.2:2379 --listen-metrics-urls<span class="o">=</span>http://127.0.0.1:2381 --listen-peer-urls<span class="o">=</span>https://192.168.49.2:2380 --name<span class="o">=</span>minikube --peer-cert-file<span class="o">=</span>/var/lib/minikube/certs/etcd/peer.crt --peer-client-cert-auth<span class="o">=</span><span class="nb">true</span> --peer-key-file<span class="o">=</span>/var/lib/minikube/certs/etcd/peer.key --peer-trusted-ca-file<span class="o">=</span>/var/lib/minikube/certs/etcd/ca.crt --proxy-refresh-interval<span class="o">=</span><span class="m">70000</span> --snapshot-count<span class="o">=</span><span class="m">10000</span> --trusted-ca-file<span class="o">=</span>/var/lib/minikube/certs/etcd/ca.crt
root        <span class="m">1747</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">113372</span>  <span class="m">6828</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 230087c66fbdab6719efad402a52e2075dee9ac456272b3ee30fbe5fc43c8702 -address /run/containerd/containerd.sock
root        <span class="m">1767</span> <span class="m">24</span>.0 <span class="m">17</span>.4 <span class="m">1097736</span> <span class="m">355104</span> ?      Ssl  <span class="m">06</span>:54  <span class="m">23</span>:11 kube-apiserver --advertise-address<span class="o">=</span><span class="m">192</span>.168.49.2 --allow-privileged<span class="o">=</span><span class="nb">true</span> --authorization-mode<span class="o">=</span>Node,RBAC --client-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt --enable-admission-plugins<span class="o">=</span>NamespaceLifecycle,LimitRanger,ServiceAccount,DefaultStorageClass,DefaultTolerationSeconds,NodeRestriction,MutatingAdmissionWebhook,ValidatingAdmissionWebhook,ResourceQuota --enable-bootstrap-token-auth<span class="o">=</span><span class="nb">true</span> --etcd-cafile<span class="o">=</span>/var/lib/minikube/certs/etcd/ca.crt --etcd-certfile<span class="o">=</span>/var/lib/minikube/certs/apiserver-etcd-client.crt --etcd-keyfile<span class="o">=</span>/var/lib/minikube/certs/apiserver-etcd-client.key --etcd-servers<span class="o">=</span>https://127.0.0.1:2379 --insecure-port<span class="o">=</span><span class="m">0</span> --kubelet-client-certificate<span class="o">=</span>/var/lib/minikube/certs/apiserver-kubelet-client.crt --kubelet-client-key<span class="o">=</span>/var/lib/minikube/certs/apiserver-kubelet-client.key --kubelet-preferred-address-types<span class="o">=</span>InternalIP,ExternalIP,Hostname --proxy-client-cert-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-client.crt --proxy-client-key-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-client.key --requestheader-allowed-names<span class="o">=</span>front-proxy-client --requestheader-client-ca-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-ca.crt --requestheader-extra-headers-prefix<span class="o">=</span>X-Remote-Extra- --requestheader-group-headers<span class="o">=</span>X-Remote-Group --requestheader-username-headers<span class="o">=</span>X-Remote-User --secure-port<span class="o">=</span><span class="m">8443</span> --service-account-issuer<span class="o">=</span>https://kubernetes.default.svc.cluster.local --service-account-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.pub --service-account-signing-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.key --service-cluster-ip-range<span class="o">=</span><span class="m">10</span>.96.0.0/12 --tls-cert-file<span class="o">=</span>/var/lib/minikube/certs/apiserver.crt --tls-private-key-file<span class="o">=</span>/var/lib/minikube/certs/apiserver.key
root        <span class="m">1810</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">113116</span>  <span class="m">7388</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id e5f22d817beb70df847ac8e47e768c042ee04c1ada7f81b4a7b9fce1660f9a7f -address /run/containerd/containerd.sock
root        <span class="m">1867</span>  <span class="m">9</span>.4  <span class="m">4</span>.8 <span class="m">816008</span> <span class="m">99624</span> ?        Ssl  <span class="m">06</span>:54   <span class="m">9</span>:06 kube-controller-manager --allocate-node-cidrs<span class="o">=</span><span class="nb">true</span> --authentication-kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf --authorization-kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf --bind-address<span class="o">=</span><span class="m">127</span>.0.0.1 --client-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt --cluster-cidr<span class="o">=</span><span class="m">10</span>.244.0.0/16 --cluster-name<span class="o">=</span>mk --cluster-signing-cert-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt --cluster-signing-key-file<span class="o">=</span>/var/lib/minikube/certs/ca.key --controllers<span class="o">=</span>*,bootstrapsigner,tokencleaner --kubeconfig<span class="o">=</span>/etc/kubernetes/controller-manager.conf --leader-elect<span class="o">=</span><span class="nb">false</span> --port<span class="o">=</span><span class="m">0</span> --requestheader-client-ca-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-ca.crt --root-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt --service-account-private-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.key --service-cluster-ip-range<span class="o">=</span><span class="m">10</span>.96.0.0/12 --use-service-account-credentials<span class="o">=</span><span class="nb">true</span>
root        <span class="m">1878</span>  <span class="m">1</span>.1  <span class="m">2</span>.2 <span class="m">747360</span> <span class="m">44964</span> ?        Ssl  <span class="m">06</span>:54   <span class="m">1</span>:05 kube-scheduler --authentication-kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf --authorization-kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf --bind-address<span class="o">=</span><span class="m">127</span>.0.0.1 --kubeconfig<span class="o">=</span>/etc/kubernetes/scheduler.conf --leader-elect<span class="o">=</span><span class="nb">false</span> --port<span class="o">=</span><span class="m">0</span>
root        <span class="m">2614</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">113116</span>  <span class="m">7864</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id f4dab4962dd953931d4ee6c39b835fb6b014882f7e3128f793dfc3a81ca1f899 -address /run/containerd/containerd.sock
root        <span class="m">2653</span>  <span class="m">0</span>.0  <span class="m">0</span>.0    <span class="m">964</span>     <span class="m">4</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:00 /pause
root        <span class="m">2662</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">111964</span>  <span class="m">7488</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id c18a9a7f27a07285f9f1ca38df8ee428d9f3ce8747a638cd8eee17626c58a776 -address /run/containerd/containerd.sock
root        <span class="m">2708</span>  <span class="m">0</span>.0  <span class="m">0</span>.0    <span class="m">964</span>     <span class="m">4</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:00 /pause
root        <span class="m">2732</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">111964</span>  <span class="m">7356</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 80230fe0322349551ca479677fea64e102dc769de6511b191c3fc63c859b7455 -address /run/containerd/containerd.sock
root        <span class="m">2782</span>  <span class="m">0</span>.0  <span class="m">0</span>.0    <span class="m">964</span>     <span class="m">4</span> ?        Ss   <span class="m">06</span>:54   <span class="m">0</span>:00 /pause
root        <span class="m">2864</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">111964</span>  <span class="m">7708</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id cac6c4b8c7040c21b69516d63773ff715c640eaac6f8549fe2d1d1e7c3c1fdaa -address /run/containerd/containerd.sock
root        <span class="m">2898</span>  <span class="m">0</span>.1  <span class="m">1</span>.7 <span class="m">743816</span> <span class="m">36288</span> ?        Ssl  <span class="m">06</span>:54   <span class="m">0</span>:06 /usr/local/bin/kube-proxy --config<span class="o">=</span>/var/lib/kube-proxy/config.conf --hostname-override<span class="o">=</span>minikube
root        <span class="m">2948</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">111964</span>  <span class="m">6636</span> ?        Sl   <span class="m">06</span>:54   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 839eb66914e336f14cef61800a3b20a9695e161610a9529cc4af79b53cdd4dab -address /run/containerd/containerd.sock
root        <span class="m">2968</span>  <span class="m">1</span>.5  <span class="m">1</span>.8 <span class="m">747400</span> <span class="m">37672</span> ?        Ssl  <span class="m">06</span>:54   <span class="m">1</span>:29 /coredns -conf /etc/coredns/Corefile
root        <span class="m">3346</span>  <span class="m">0</span>.0  <span class="m">0</span>.3 <span class="m">113372</span>  <span class="m">7148</span> ?        Sl   <span class="m">06</span>:55   <span class="m">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 5b619918b8205f537c6cadcb4a14ad6fcd35c7c5f670f0e3ccc47a9ddece5c00 -address /run/containerd/containerd.sock
root        <span class="m">3368</span>  <span class="m">0</span>.7  <span class="m">1</span>.4 <span class="m">735720</span> <span class="m">29168</span> ?        Ssl  <span class="m">06</span>:55   <span class="m">0</span>:44 /storage-provisioner
root       <span class="m">23642</span>  <span class="m">0</span>.3  <span class="m">0</span>.1   <span class="m">4244</span>  <span class="m">3528</span> pts/1    Ss   <span class="m">08</span>:30   <span class="m">0</span>:00 bash
root       <span class="m">23657</span>  <span class="m">0</span>.0  <span class="m">0</span>.1   <span class="m">5896</span>  <span class="m">2912</span> pts/1    R+   <span class="m">08</span>:31   <span class="m">0</span>:00 ps auxwww
root@minikube:/# cat /etc/*release*
<span class="nv">DISTRIB_ID</span><span class="o">=</span>Ubuntu
<span class="nv">DISTRIB_RELEASE</span><span class="o">=</span><span class="m">20</span>.04
<span class="nv">DISTRIB_CODENAME</span><span class="o">=</span>focal
<span class="nv">DISTRIB_DESCRIPTION</span><span class="o">=</span><span class="s2">&quot;Ubuntu 20.04.2 LTS&quot;</span>
<span class="nv">NAME</span><span class="o">=</span><span class="s2">&quot;Ubuntu&quot;</span>
<span class="nv">VERSION</span><span class="o">=</span><span class="s2">&quot;20.04.2 LTS (Focal Fossa)&quot;</span>
<span class="nv">ID</span><span class="o">=</span>ubuntu
<span class="nv">ID_LIKE</span><span class="o">=</span>debian
<span class="nv">PRETTY_NAME</span><span class="o">=</span><span class="s2">&quot;Ubuntu 20.04.2 LTS&quot;</span>
<span class="nv">VERSION_ID</span><span class="o">=</span><span class="s2">&quot;20.04&quot;</span>
<span class="nv">HOME_URL</span><span class="o">=</span><span class="s2">&quot;https://www.ubuntu.com/&quot;</span>
<span class="nv">SUPPORT_URL</span><span class="o">=</span><span class="s2">&quot;https://help.ubuntu.com/&quot;</span>
<span class="nv">BUG_REPORT_URL</span><span class="o">=</span><span class="s2">&quot;https://bugs.launchpad.net/ubuntu/&quot;</span>
<span class="nv">PRIVACY_POLICY_URL</span><span class="o">=</span><span class="s2">&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;</span>
<span class="nv">VERSION_CODENAME</span><span class="o">=</span>focal
<span class="nv">UBUNTU_CODENAME</span><span class="o">=</span>focal
root@minikube:/#


root@minikube:/# ps auxwww <span class="p">|</span> grep -i kubeler
root       <span class="m">23935</span>  <span class="m">0</span>.0  <span class="m">0</span>.0   <span class="m">3304</span>   <span class="m">720</span> pts/1    R+   <span class="m">08</span>:32   <span class="m">0</span>:00 grep --color<span class="o">=</span>auto -i kubeler
root@minikube:/# ps auxwww <span class="p">|</span> grep -i kubelet
root         <span class="m">852</span> <span class="m">13</span>.0  <span class="m">5</span>.1 <span class="m">1853424</span> <span class="m">103888</span> ?      Ssl  <span class="m">06</span>:54  <span class="m">12</span>:48 /var/lib/minikube/binaries/v1.20.2/kubelet --bootstrap-kubeconfig<span class="o">=</span>/etc/kubernetes/bootstrap-kubelet.conf --config<span class="o">=</span>/var/lib/kubelet/config.yaml --container-runtime<span class="o">=</span>docker --hostname-override<span class="o">=</span>minikube --kubeconfig<span class="o">=</span>/etc/kubernetes/kubelet.conf --node-ip<span class="o">=</span><span class="m">192</span>.168.49.2
root        <span class="m">1767</span> <span class="m">23</span>.9 <span class="m">17</span>.4 <span class="m">1097736</span> <span class="m">355104</span> ?      Ssl  <span class="m">06</span>:54  <span class="m">23</span>:28 kube-apiserver --advertise-address<span class="o">=</span><span class="m">192</span>.168.49.2 --allow-privileged<span class="o">=</span><span class="nb">true</span> --authorization-mode<span class="o">=</span>Node,RBAC --client-ca-file<span class="o">=</span>/var/lib/minikube/certs/ca.crt --enable-admission-plugins<span class="o">=</span>NamespaceLifecycle,LimitRanger,ServiceAccount,DefaultStorageClass,DefaultTolerationSeconds,NodeRestriction,MutatingAdmissionWebhook,ValidatingAdmissionWebhook,ResourceQuota --enable-bootstrap-token-auth<span class="o">=</span><span class="nb">true</span> --etcd-cafile<span class="o">=</span>/var/lib/minikube/certs/etcd/ca.crt --etcd-certfile<span class="o">=</span>/var/lib/minikube/certs/apiserver-etcd-client.crt --etcd-keyfile<span class="o">=</span>/var/lib/minikube/certs/apiserver-etcd-client.key --etcd-servers<span class="o">=</span>https://127.0.0.1:2379 --insecure-port<span class="o">=</span><span class="m">0</span> --kubelet-client-certificate<span class="o">=</span>/var/lib/minikube/certs/apiserver-kubelet-client.crt --kubelet-client-key<span class="o">=</span>/var/lib/minikube/certs/apiserver-kubelet-client.key --kubelet-preferred-address-types<span class="o">=</span>InternalIP,ExternalIP,Hostname --proxy-client-cert-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-client.crt --proxy-client-key-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-client.key --requestheader-allowed-names<span class="o">=</span>front-proxy-client --requestheader-client-ca-file<span class="o">=</span>/var/lib/minikube/certs/front-proxy-ca.crt --requestheader-extra-headers-prefix<span class="o">=</span>X-Remote-Extra- --requestheader-group-headers<span class="o">=</span>X-Remote-Group --requestheader-username-headers<span class="o">=</span>X-Remote-User --secure-port<span class="o">=</span><span class="m">8443</span> --service-account-issuer<span class="o">=</span>https://kubernetes.default.svc.cluster.local --service-account-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.pub --service-account-signing-key-file<span class="o">=</span>/var/lib/minikube/certs/sa.key --service-cluster-ip-range<span class="o">=</span><span class="m">10</span>.96.0.0/12 --tls-cert-file<span class="o">=</span>/var/lib/minikube/certs/apiserver.crt --tls-private-key-file<span class="o">=</span>/var/lib/minikube/certs/apiserver.key
root       <span class="m">23937</span>  <span class="m">0</span>.0  <span class="m">0</span>.0   <span class="m">3436</span>   <span class="m">736</span> pts/1    S+   <span class="m">08</span>:32   <span class="m">0</span>:00 grep --color<span class="o">=</span>auto -i kubelet
root@minikube:/# cat /var/lib/kubelet/config.yaml 
apiVersion: kubelet.config.k8s.io/v1beta1
authentication:
  anonymous:
    enabled: <span class="nb">false</span>
  webhook:
    cacheTTL: 0s
    enabled: <span class="nb">true</span>
  x509:
    clientCAFile: /var/lib/minikube/certs/ca.crt
authorization:
  mode: Webhook
  webhook:
    cacheAuthorizedTTL: 0s
    cacheUnauthorizedTTL: 0s
cgroupDriver: cgroupfs
clusterDNS:
- <span class="m">10</span>.96.0.10
clusterDomain: cluster.local
cpuManagerReconcilePeriod: 0s
evictionHard:
  imagefs.available: <span class="m">0</span>%
  nodefs.available: <span class="m">0</span>%
  nodefs.inodesFree: <span class="m">0</span>%
evictionPressureTransitionPeriod: 0s
failSwapOn: <span class="nb">false</span>
fileCheckFrequency: 0s
healthzBindAddress: <span class="m">127</span>.0.0.1
healthzPort: <span class="m">10248</span>
httpCheckFrequency: 0s
imageGCHighThresholdPercent: <span class="m">100</span>
imageMinimumGCAge: 0s
kind: KubeletConfiguration
logging: <span class="o">{}</span>
nodeStatusReportFrequency: 0s
nodeStatusUpdateFrequency: 0s
rotateCertificates: <span class="nb">true</span>
runtimeRequestTimeout: 0s
shutdownGracePeriod: 0s
shutdownGracePeriodCriticalPods: 0s
staticPodPath: /etc/kubernetes/manifests
streamingConnectionIdleTimeout: 0s
syncFrequency: 0s
volumeStatsAggPeriod: 0s
root@minikube:/# 
</pre></div>
</div>
</div>
<p>kubeproxy</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">kubeproxy</span><a class="headerlink" href="#id7" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>by default with <span class="k">in</span> a kubernetes cluster every pod can reach every other pod. This is achieved by kube-proxy 

Its pod-network :<span class="o">)</span> kube-proxy creates iptables rules to foward request from web application to database application.


but the service can not join the pod-network.



bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl get all --all-namespaces <span class="p">|</span> grep -i <span class="s2">&quot;kube-proxy&quot;</span>
kube-system   pod/kube-proxy-w85sf                   <span class="m">1</span>/1     Running   <span class="m">1</span>          109m
kube-system   daemonset.apps/kube-proxy   <span class="m">1</span>         <span class="m">1</span>         <span class="m">1</span>       <span class="m">1</span>            <span class="m">1</span>           kubernetes.io/os<span class="o">=</span>linux   109m
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 




bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl get ds kube-proxy -n kube-system -o yaml <span class="p">|</span> grep -iC25 <span class="s2">&quot;kube-proxy&quot;</span>
    spec:
      containers:
      - command:
        - /usr/local/bin/kube-proxy
        - --config<span class="o">=</span>/var/lib/kube-proxy/config.conf
        - --hostname-override<span class="o">=</span><span class="k">$(</span>NODE_NAME<span class="k">)</span>
        env:
        - name: NODE_NAME
          valueFrom:
            fieldRef:
              apiVersion: v1
              fieldPath: spec.nodeName
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $               
</pre></div>
</div>
</div>
<p>pods</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">pods</span><a class="headerlink" href="#id8" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl get nodes -o wide
NAME       STATUS   ROLES                  AGE    VERSION   INTERNAL-IP    EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION    CONTAINER-RUNTIME
minikube   Ready    control-plane,master   117m   v1.20.2   <span class="m">192</span>.168.49.2   &lt;none&gt;        Ubuntu <span class="m">20</span>.04.2 LTS   <span class="m">5</span>.4.39-linuxkit   docker://20.10.6
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 




bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods --all-namespaces -o wide
NAMESPACE     NAME                               READY   STATUS    RESTARTS   AGE    IP             NODE       NOMINATED NODE   READINESS GATES
kube-system   coredns-74ff55c5b-plhmt            <span class="m">1</span>/1     Running   <span class="m">1</span>          119m   <span class="m">172</span>.17.0.2     minikube   &lt;none&gt;           &lt;none&gt;
kube-system   etcd-minikube                      <span class="m">1</span>/1     Running   <span class="m">1</span>          119m   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
kube-system   kube-apiserver-minikube            <span class="m">1</span>/1     Running   <span class="m">1</span>          119m   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
kube-system   kube-controller-manager-minikube   <span class="m">1</span>/1     Running   <span class="m">1</span>          119m   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
kube-system   kube-proxy-w85sf                   <span class="m">1</span>/1     Running   <span class="m">1</span>          119m   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
kube-system   kube-scheduler-minikube            <span class="m">1</span>/1     Running   <span class="m">1</span>          119m   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
kube-system   storage-provisioner                <span class="m">1</span>/1     Running   <span class="m">2</span>          119m   <span class="m">192</span>.168.49.2   minikube   &lt;none&gt;           &lt;none&gt;
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl get svc --all-namespaces -o wide
NAMESPACE     NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>                  AGE    SELECTOR
default       kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP                  121m   &lt;none&gt;
kube-system   kube-dns     ClusterIP   <span class="m">10</span>.96.0.10   &lt;none&gt;        <span class="m">53</span>/UDP,53/TCP,9153/TCP   121m   k8s-app<span class="o">=</span>kube-dns
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 


harathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl run nginx --image<span class="o">=</span>nginx
pod/nginx created
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $

bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods -n default
NAME    READY   STATUS    RESTARTS   AGE
nginx   <span class="m">1</span>/1     Running   <span class="m">0</span>          63s
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $


bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl describe pod nginx -n default 
Name:         nginx
Namespace:    default
Priority:     <span class="m">0</span>
Node:         minikube/192.168.49.2
Start Time:   Sun, <span class="m">05</span> Sep <span class="m">2021</span> <span class="m">09</span>:01:56 +0800
Labels:       <span class="nv">run</span><span class="o">=</span>nginx
Annotations:  &lt;none&gt;
Status:       Running
IP:           <span class="m">172</span>.17.0.3
IPs:
  IP:  <span class="m">172</span>.17.0.3
Containers:
  nginx:
    Container ID:   docker://29f805ef6ace3d5283594cd85b7d261739550297e18dcf68819b4a364e37bb23
    Image:          nginx
    Image ID:       docker-pullable://nginx@sha256:a05b0cdd4fc1be3b224ba9662ebdf98fe44c09c0c9215b45f84344c12867002e
    Port:           &lt;none&gt;
    Host Port:      &lt;none&gt;
    State:          Running
      Started:      Sun, <span class="m">05</span> Sep <span class="m">2021</span> <span class="m">09</span>:02:25 +0800
    Ready:          True
    Restart Count:  <span class="m">0</span>
    Environment:    &lt;none&gt;
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-lxpp9 <span class="o">(</span>ro<span class="o">)</span>
Conditions:
  Type              Status
  Initialized       True 
  Ready             True 
  ContainersReady   True 
  PodScheduled      True 
Volumes:
  default-token-lxpp9:
    Type:        Secret <span class="o">(</span>a volume populated by a Secret<span class="o">)</span>
    SecretName:  default-token-lxpp9
    Optional:    <span class="nb">false</span>
QoS Class:       BestEffort
Node-Selectors:  &lt;none&gt;
Tolerations:     node.kubernetes.io/not-ready:NoExecute <span class="nv">op</span><span class="o">=</span>Exists <span class="k">for</span> 300s
                 node.kubernetes.io/unreachable:NoExecute <span class="nv">op</span><span class="o">=</span>Exists <span class="k">for</span> 300s
Events:
  Type    Reason     Age    From               Message
  ----    ------     ----   ----               -------
  Normal  Scheduled  8m13s  default-scheduler  Successfully assigned default/nginx to minikube
  Normal  Pulling    8m12s  kubelet            Pulling image <span class="s2">&quot;nginx&quot;</span>
  Normal  Pulled     7m46s  kubelet            Successfully pulled image <span class="s2">&quot;nginx&quot;</span> <span class="k">in</span> <span class="m">27</span>.0053815s
  Normal  Created    7m45s  kubelet            Created container nginx
  Normal  Started    7m45s  kubelet            Started container nginx
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl run bknginx --image<span class="o">=</span>nginx --dry-run<span class="o">=</span>client
pod/bknginx created <span class="o">(</span>dry run<span class="o">)</span>
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 




bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl run nginx --image<span class="o">=</span>nginx --dry-run<span class="o">=</span>client -o yaml &gt; pods_recap.yaml
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl apply -f pods_recap.yaml 
pod/nginx created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME    READY   STATUS              RESTARTS   AGE
nginx   <span class="m">0</span>/1     ContainerCreating   <span class="m">0</span>          15s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME    READY   STATUS              RESTARTS   AGE
nginx   <span class="m">0</span>/1     ContainerCreating   <span class="m">0</span>          17s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME    READY   STATUS    RESTARTS   AGE
nginx   <span class="m">1</span>/1     Running   <span class="m">0</span>          25s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
</pre></div>
</div>
</div>
<p>podslabs</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">podslabs</span><a class="headerlink" href="#id9" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@controlplane:~# kubectl run nginx --image<span class="o">=</span>nginx
pod/nginx created
root@controlplane:~# 


root@controlplane:~# kubectl get pods
NAME            READY   STATUS    RESTARTS   AGE
newpods-54kvg   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m3s
newpods-bmpxk   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m3s
newpods-w66pw   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m3s
nginx           <span class="m">1</span>/1     Running   <span class="m">0</span>          2m38s
root@controlplane:~# 

root@controlplane:~# kubectl run redis --image<span class="o">=</span>redis123
pod/redis created
root@controlplane:~# kubectl get pods
NAME            READY   STATUS             RESTARTS   AGE
newpods-54kvg   <span class="m">1</span>/1     Running            <span class="m">0</span>          9m34s
newpods-bmpxk   <span class="m">1</span>/1     Running            <span class="m">0</span>          9m34s
newpods-w66pw   <span class="m">1</span>/1     Running            <span class="m">0</span>          9m34s
nginx           <span class="m">1</span>/1     Running            <span class="m">0</span>          10m
redis           <span class="m">0</span>/1     ImagePullBackOff   <span class="m">0</span>          6s
root@controlplane:~# 

root@controlplane:~# kubectl run redis --image<span class="o">=</span>redis   
Error from server <span class="o">(</span>AlreadyExists<span class="o">)</span>: pods <span class="s2">&quot;redis&quot;</span> already exists

<span class="c1"># Edit pod definition file and update the image</span>
root@controlplane:~# kubectl edit pod redis  
pod/redis edited
root@controlplane:~# 



bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ kubectl run redis --image<span class="o">=</span>redis123 --dry-run<span class="o">=</span>client -o yaml &gt; Four_September_2021_CKA_Recap/sample_pod.yaml
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 
---------------------------------------------------------------------------
apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: redis
  name: redis
spec:
  containers:
  - image: redis123
    name: redis
    resources: <span class="o">{}</span>
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: <span class="o">{}</span>
---------------------------------------------------------------------------

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl apply -f sample_pod.yaml
pod/redis created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl describe pod redis <span class="p">|</span> grep -iA20 Events
Events:
  Type     Reason     Age                From               Message
  ----     ------     ----               ----               -------
  Normal   Scheduled  86s                default-scheduler  Successfully assigned default/redis to minikube
  Normal   Pulling    28s <span class="o">(</span>x3 over 86s<span class="o">)</span>  kubelet            Pulling image <span class="s2">&quot;redis123&quot;</span>
  Warning  Failed     20s <span class="o">(</span>x3 over 79s<span class="o">)</span>  kubelet            Failed to pull image <span class="s2">&quot;redis123&quot;</span>: rpc error: <span class="nv">code</span> <span class="o">=</span> Unknown <span class="nv">desc</span> <span class="o">=</span> Error response from daemon: pull access denied <span class="k">for</span> redis123, repository does not exist or may require <span class="s1">&#39;docker login&#39;</span>: denied: requested access to the resource is denied
  Warning  Failed     20s <span class="o">(</span>x3 over 79s<span class="o">)</span>  kubelet            Error: ErrImagePull
  Normal   BackOff    9s <span class="o">(</span>x3 over 79s<span class="o">)</span>   kubelet            Back-off pulling image <span class="s2">&quot;redis123&quot;</span>
  Warning  Failed     9s <span class="o">(</span>x3 over 79s<span class="o">)</span>   kubelet            Error: ImagePullBackOff
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl apply -f sample_pod.yaml 
pod/redis configured
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME    READY   STATUS    RESTARTS   AGE
nginx   <span class="m">1</span>/1     Running   <span class="m">0</span>          7h44m
redis   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m41s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl describe pod redis <span class="p">|</span> grep -iA10 Events
Events:
  Type     Reason     Age                  From               Message
  ----     ------     ----                 ----               -------
  Normal   Scheduled  2m56s                default-scheduler  Successfully assigned default/redis to minikube
  Normal   BackOff    74s <span class="o">(</span>x5 over 2m48s<span class="o">)</span>  kubelet            Back-off pulling image <span class="s2">&quot;redis123&quot;</span>
  Warning  Failed     74s <span class="o">(</span>x5 over 2m48s<span class="o">)</span>  kubelet            Error: ImagePullBackOff
  Normal   Pulling    60s <span class="o">(</span>x4 over 2m55s<span class="o">)</span>  kubelet            Pulling image <span class="s2">&quot;redis123&quot;</span>
  Warning  Failed     53s <span class="o">(</span>x4 over 2m48s<span class="o">)</span>  kubelet            Failed to pull image <span class="s2">&quot;redis123&quot;</span>: rpc error: <span class="nv">code</span> <span class="o">=</span> Unknown <span class="nv">desc</span> <span class="o">=</span> Error response from daemon: pull access denied <span class="k">for</span> redis123, repository does not exist or may require <span class="s1">&#39;docker login&#39;</span>: denied: requested access to the resource is denied
  Warning  Failed     53s <span class="o">(</span>x4 over 2m48s<span class="o">)</span>  kubelet            Error: ErrImagePull
  Normal   Pulling    45s                  kubelet            Pulling image <span class="s2">&quot;redis&quot;</span>
  Normal   Pulled     25s                  kubelet            Successfully pulled image <span class="s2">&quot;redis&quot;</span> <span class="k">in</span> <span class="m">20</span>.0685611s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl edit pod redis
Edit cancelled, no changes made.
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl delete pod redis nginx
pod <span class="s2">&quot;redis&quot;</span> deleted
pod <span class="s2">&quot;nginx&quot;</span> deleted
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl run nginx --image<span class="o">=</span>nginx1818 --dry-run<span class="o">=</span>client -o yaml &gt; sample_pod_nginx.yaml
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl apply -f sample_pod_nginx.yaml 
pod/nginx created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl describe pod nginx <span class="p">|</span> grep -iA20 <span class="s2">&quot;Events&quot;</span>
Events:
  Type     Reason     Age                From               Message
  ----     ------     ----               ----               -------
  Normal   Scheduled  60s                default-scheduler  Successfully assigned default/nginx to minikube
  Normal   BackOff    21s <span class="o">(</span>x2 over 51s<span class="o">)</span>  kubelet            Back-off pulling image <span class="s2">&quot;nginx1818&quot;</span>
  Warning  Failed     21s <span class="o">(</span>x2 over 51s<span class="o">)</span>  kubelet            Error: ImagePullBackOff
  Normal   Pulling    9s <span class="o">(</span>x3 over 59s<span class="o">)</span>   kubelet            Pulling image <span class="s2">&quot;nginx1818&quot;</span>
  Warning  Failed     1s <span class="o">(</span>x3 over 51s<span class="o">)</span>   kubelet            Failed to pull image <span class="s2">&quot;nginx1818&quot;</span>: rpc error: <span class="nv">code</span> <span class="o">=</span> Unknown <span class="nv">desc</span> <span class="o">=</span> Error response from daemon: pull access denied <span class="k">for</span> nginx1818, repository does not exist or may require <span class="s1">&#39;docker login&#39;</span>: denied: requested access to the resource is denied
  Warning  Failed     1s <span class="o">(</span>x3 over 51s<span class="o">)</span>   kubelet            Error: ErrImagePull
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl edit pod nginx
pod/nginx edited
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl delete pod nginx
pod <span class="s2">&quot;nginx&quot;</span> deleted
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl run redis --image<span class="o">=</span>redis1234 --dry-run<span class="o">=</span>client -o yaml &gt; sample_pod_redis.yaml
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl apply -f sample_pod_redis.yaml 
pod/redis created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl describe pod redis <span class="p">|</span> grep -iA25 <span class="s2">&quot;Events&quot;</span>
Events:
  Type    Reason     Age   From               Message
  ----    ------     ----  ----               -------
  Normal  Scheduled  5s    default-scheduler  Successfully assigned default/redis to minikube
  Normal  Pulling    5s    kubelet            Pulling image <span class="s2">&quot;redis1234&quot;</span>
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl describe pod redis <span class="p">|</span> grep -iA25 <span class="s2">&quot;Events&quot;</span>
Events:
  Type     Reason     Age   From               Message
  ----     ------     ----  ----               -------
  Normal   Scheduled  9s    default-scheduler  Successfully assigned default/redis to minikube
  Normal   Pulling    8s    kubelet            Pulling image <span class="s2">&quot;redis1234&quot;</span>
  Warning  Failed     1s    kubelet            Failed to pull image <span class="s2">&quot;redis1234&quot;</span>: rpc error: <span class="nv">code</span> <span class="o">=</span> Unknown <span class="nv">desc</span> <span class="o">=</span> Error response from daemon: pull access denied <span class="k">for</span> redis1234, repository does not exist or may require <span class="s1">&#39;docker login&#39;</span>: denied: requested access to the resource is denied
  Warning  Failed     1s    kubelet            Error: ErrImagePull
  Normal   BackOff    1s    kubelet            Back-off pulling image <span class="s2">&quot;redis1234&quot;</span>
  Warning  Failed     1s    kubelet            Error: ImagePullBackOff
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl edit pod redis
pod/redis edited
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl apply -f sample_pod_redis.yaml 
pod/redis configured
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME    READY   STATUS    RESTARTS   AGE
redis   <span class="m">1</span>/1     Running   <span class="m">1</span>          2m54s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
</pre></div>
</div>
</div>
<p>replicationcontroller</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">replicationcontroller</span><a class="headerlink" href="#id10" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>multiple instances of pods
loadbalancing and pods


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f rc-definition.yaml 
replicationcontroller/bkapp-rc created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME             READY   STATUS              RESTARTS   AGE
bkapp-rc-8l5p4   <span class="m">0</span>/1     ContainerCreating   <span class="m">0</span>          10s
bkapp-rc-ksd2j   <span class="m">1</span>/1     Running             <span class="m">0</span>          11s
bkapp-rc-zlxcw   <span class="m">0</span>/1     ContainerCreating   <span class="m">0</span>          11s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME             READY   STATUS              RESTARTS   AGE
bkapp-rc-8l5p4   <span class="m">1</span>/1     Running             <span class="m">0</span>          18s
bkapp-rc-ksd2j   <span class="m">1</span>/1     Running             <span class="m">0</span>          19s
bkapp-rc-zlxcw   <span class="m">0</span>/1     ContainerCreating   <span class="m">0</span>          19s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME             READY   STATUS    RESTARTS   AGE
bkapp-rc-8l5p4   <span class="m">1</span>/1     Running   <span class="m">0</span>          26s
bkapp-rc-ksd2j   <span class="m">1</span>/1     Running   <span class="m">0</span>          27s
bkapp-rc-zlxcw   <span class="m">1</span>/1     Running   <span class="m">0</span>          27s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get all -n default
NAME                 READY   STATUS    RESTARTS   AGE
pod/bkapp-rc-8l5p4   <span class="m">1</span>/1     Running   <span class="m">0</span>          65s
pod/bkapp-rc-ksd2j   <span class="m">1</span>/1     Running   <span class="m">0</span>          66s
pod/bkapp-rc-zlxcw   <span class="m">1</span>/1     Running   <span class="m">0</span>          66s

NAME                             DESIRED   CURRENT   READY   AGE
replicationcontroller/bkapp-rc   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       66s

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
service/kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   26h
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl  get replicationcontroller
NAME       DESIRED   CURRENT   READY   AGE
bkapp-rc   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       100s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl  get rc
NAME       DESIRED   CURRENT   READY   AGE
bkapp-rc   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       105s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME             READY   STATUS    RESTARTS   AGE
bkapp-rc-8l5p4   <span class="m">1</span>/1     Running   <span class="m">0</span>          6m13s
bkapp-rc-ksd2j   <span class="m">1</span>/1     Running   <span class="m">0</span>          6m14s
bkapp-rc-zlxcw   <span class="m">1</span>/1     Running   <span class="m">0</span>          6m14s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
</pre></div>
</div>
</div>
<p>replicaset</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">replicaset</span><a class="headerlink" href="#id11" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl api-resources <span class="p">|</span> grep -i replica
replicationcontrollers            rc                                          <span class="nb">true</span>         ReplicationController
replicasets                       rs           apps                           <span class="nb">true</span>         ReplicaSet
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl api-versions <span class="p">|</span> grep -i apps
apps/v1
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

the difference between replication controller and replicaset is...for ReplicaSet we need specify the selector definition <span class="k">in</span> manifest file.

selector:
  matchLabels:
    type: front-end



replicaset.apps/bkapp-replicaset created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get rs
NAME               DESIRED   CURRENT   READY   AGE
bkapp-replicaset   <span class="m">3</span>         <span class="m">3</span>         <span class="m">1</span>       9s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get rs
NAME               DESIRED   CURRENT   READY   AGE
bkapp-replicaset   <span class="m">3</span>         <span class="m">3</span>         <span class="m">2</span>       15s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get rs
NAME               DESIRED   CURRENT   READY   AGE
bkapp-replicaset   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       20s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME                     READY   STATUS    RESTARTS   AGE
bkapp-rc-8l5p4           <span class="m">1</span>/1     Running   <span class="m">0</span>          19m
bkapp-rc-ksd2j           <span class="m">1</span>/1     Running   <span class="m">0</span>          19m
bkapp-rc-zlxcw           <span class="m">1</span>/1     Running   <span class="m">0</span>          19m
bkapp-replicaset-5hnxx   <span class="m">1</span>/1     Running   <span class="m">0</span>          33s
bkapp-replicaset-hbtkt   <span class="m">1</span>/1     Running   <span class="m">0</span>          33s
bkapp-replicaset-zkcdg   <span class="m">1</span>/1     Running   <span class="m">0</span>          33s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get all -n default
NAME                         READY   STATUS    RESTARTS   AGE
pod/bkapp-rc-8l5p4           <span class="m">1</span>/1     Running   <span class="m">0</span>          19m
pod/bkapp-rc-ksd2j           <span class="m">1</span>/1     Running   <span class="m">0</span>          19m
pod/bkapp-rc-zlxcw           <span class="m">1</span>/1     Running   <span class="m">0</span>          19m
pod/bkapp-replicaset-5hnxx   <span class="m">1</span>/1     Running   <span class="m">0</span>          53s
pod/bkapp-replicaset-hbtkt   <span class="m">1</span>/1     Running   <span class="m">0</span>          53s
pod/bkapp-replicaset-zkcdg   <span class="m">1</span>/1     Running   <span class="m">0</span>          53s

NAME                             DESIRED   CURRENT   READY   AGE
replicationcontroller/bkapp-rc   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       19m

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
service/kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   27h

NAME                               DESIRED   CURRENT   READY   AGE
replicaset.apps/bkapp-replicaset   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       53s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 




Number of ways to scale the replicas:
----------------------------------------------------&gt;
<span class="m">1</span>. Update replicaset-definition.yaml as replicas: <span class="m">4</span> and run below --&gt;
<span class="m">1</span>. kubectl replace -f replicaset-definition.yaml
<span class="m">2</span>. kubectl scale --replicas<span class="o">=</span><span class="m">5</span> -f replicaset-definition.yaml
<span class="m">3</span>. kubectl scale --replicas<span class="o">=</span><span class="m">6</span> replicaset bkapp-replicaset

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl replace -f replicaset-definition.yaml 
replicaset.apps/bkapp-replicaset replaced
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME                     READY   STATUS    RESTARTS   AGE
bkapp-replicaset-5hnxx   <span class="m">1</span>/1     Running   <span class="m">0</span>          157m
bkapp-replicaset-bghvv   <span class="m">1</span>/1     Running   <span class="m">0</span>          20s
bkapp-replicaset-hbtkt   <span class="m">1</span>/1     Running   <span class="m">0</span>          157m
bkapp-replicaset-zkcdg   <span class="m">1</span>/1     Running   <span class="m">0</span>          157m
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl scale --replicas<span class="o">=</span><span class="m">5</span> -f replicaset-definition.yaml 
replicaset.apps/bkapp-replicaset scaled
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl edit rs bkapp-replicaset
Edit cancelled, no changes made.
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME                     READY   STATUS    RESTARTS   AGE
bkapp-replicaset-5hnxx   <span class="m">1</span>/1     Running   <span class="m">0</span>          160m
bkapp-replicaset-bghvv   <span class="m">1</span>/1     Running   <span class="m">0</span>          3m26s
bkapp-replicaset-hbtkt   <span class="m">1</span>/1     Running   <span class="m">0</span>          160m
bkapp-replicaset-nfhwp   <span class="m">1</span>/1     Running   <span class="m">0</span>          58s
bkapp-replicaset-zkcdg   <span class="m">1</span>/1     Running   <span class="m">0</span>          160m
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl scale --replicas<span class="o">=</span><span class="m">6</span> replicaset bkapp-replicaset
replicaset.apps/bkapp-replicaset scaled
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME                     READY   STATUS    RESTARTS   AGE
bkapp-replicaset-5hnxx   <span class="m">1</span>/1     Running   <span class="m">0</span>          167m
bkapp-replicaset-7pq6p   <span class="m">1</span>/1     Running   <span class="m">0</span>          6m31s
bkapp-replicaset-bghvv   <span class="m">1</span>/1     Running   <span class="m">0</span>          10m
bkapp-replicaset-hbtkt   <span class="m">1</span>/1     Running   <span class="m">0</span>          167m
bkapp-replicaset-nfhwp   <span class="m">1</span>/1     Running   <span class="m">0</span>          8m
bkapp-replicaset-zkcdg   <span class="m">1</span>/1     Running   <span class="m">0</span>          167m
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f replicaset_recap.yaml 
replicaset.apps/nginx-rs created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get all
NAME                 READY   STATUS    RESTARTS   AGE
pod/nginx            <span class="m">1</span>/1     Running   <span class="m">0</span>          7m13s
pod/nginx-rs-fxjkk   <span class="m">1</span>/1     Running   <span class="m">0</span>          34s
pod/nginx-rs-mkkqc   <span class="m">1</span>/1     Running   <span class="m">0</span>          34s
pod/nginx-rs-tfnjq   <span class="m">1</span>/1     Running   <span class="m">0</span>          34s

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
service/kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   6d17h

NAME                       DESIRED   CURRENT   READY   AGE
replicaset.apps/nginx-rs   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       34s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
</pre></div>
</div>
</div>
<p>replicasetlabs</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">replicasetlabs</span><a class="headerlink" href="#id12" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@controlplane:~# kubectl get rs -n default
NAME              DESIRED   CURRENT   READY   AGE
new-replica-set   <span class="m">4</span>         <span class="m">4</span>         <span class="m">0</span>       17s
root@controlplane:~# 


root@controlplane:~# kubectl get pods
NAME                    READY   STATUS             RESTARTS   AGE
new-replica-set-cz24w   <span class="m">0</span>/1     ImagePullBackOff   <span class="m">0</span>          56s
new-replica-set-dd8qv   <span class="m">0</span>/1     ImagePullBackOff   <span class="m">0</span>          56s
new-replica-set-nhq2b   <span class="m">0</span>/1     ImagePullBackOff   <span class="m">0</span>          56s
new-replica-set-w7qqj   <span class="m">0</span>/1     ImagePullBackOff   <span class="m">0</span>          56s
root@controlplane:~# kubectl describe pod  new-replica-set-cz24w -n default
Name:         new-replica-set-cz24w
Namespace:    default
Priority:     <span class="m">0</span>
Node:         controlplane/10.42.79.3
Start Time:   Sun, <span class="m">05</span> Sep <span class="m">2021</span> <span class="m">20</span>:58:58 +0000
Labels:       <span class="nv">name</span><span class="o">=</span>busybox-pod
Annotations:  &lt;none&gt;
Status:       Pending
IP:           <span class="m">10</span>.244.0.4
IPs:
  IP:           <span class="m">10</span>.244.0.4
Controlled By:  ReplicaSet/new-replica-set
Containers:
  busybox-container:
    Container ID:  
    Image:         busybox777
    Image ID:      
    Port:          &lt;none&gt;
    Host Port:     &lt;none&gt;
    Command:
      sh
      -c
      <span class="nb">echo</span> Hello Kubernetes! <span class="o">&amp;&amp;</span> sleep <span class="m">3600</span>
    State:          Waiting
      Reason:       ImagePullBackOff
    Ready:          False
    Restart Count:  <span class="m">0</span>
    Environment:    &lt;none&gt;
    Mounts:
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-k65w6 <span class="o">(</span>ro<span class="o">)</span>
Conditions:
  Type              Status
  Initialized       True 
  Ready             False 
  ContainersReady   False 
  PodScheduled      True 
Volumes:
  default-token-k65w6:
    Type:        Secret <span class="o">(</span>a volume populated by a Secret<span class="o">)</span>
    SecretName:  default-token-k65w6
    Optional:    <span class="nb">false</span>
QoS Class:       BestEffort
Node-Selectors:  &lt;none&gt;
Tolerations:     node.kubernetes.io/not-ready:NoExecute <span class="nv">op</span><span class="o">=</span>Exists <span class="k">for</span> 300s
                 node.kubernetes.io/unreachable:NoExecute <span class="nv">op</span><span class="o">=</span>Exists <span class="k">for</span> 300s
Events:
  Type     Reason     Age                From               Message
  ----     ------     ----               ----               -------
  Normal   Scheduled  86s                default-scheduler  Successfully assigned default/new-replica-set-cz24w to controlplane
  Normal   Pulling    36s <span class="o">(</span>x3 over 81s<span class="o">)</span>  kubelet            Pulling image <span class="s2">&quot;busybox777&quot;</span>
  Warning  Failed     35s <span class="o">(</span>x3 over 79s<span class="o">)</span>  kubelet            Failed to pull image <span class="s2">&quot;busybox777&quot;</span>: rpc error: <span class="nv">code</span> <span class="o">=</span> Unknown <span class="nv">desc</span> <span class="o">=</span> Error response from daemon: pull access denied <span class="k">for</span> busybox777, repository does not exist or may require <span class="s1">&#39;docker login&#39;</span>: denied: requested access to the resource is denied
  Warning  Failed     35s <span class="o">(</span>x3 over 79s<span class="o">)</span>  kubelet            Error: ErrImagePull
  Normal   BackOff    13s <span class="o">(</span>x5 over 79s<span class="o">)</span>  kubelet            Back-off pulling image <span class="s2">&quot;busybox777&quot;</span>
  Warning  Failed     13s <span class="o">(</span>x5 over 79s<span class="o">)</span>  kubelet            Error: ImagePullBackOff
root@controlplane:~# 



root@controlplane:~# kubectl delete pod new-replica-set-cz24w -n default
pod <span class="s2">&quot;new-replica-set-cz24w&quot;</span> deleted
root@controlplane:~# 
root@controlplane:~# kubectl get pods
NAME                    READY   STATUS             RESTARTS   AGE
new-replica-set-dd8qv   <span class="m">0</span>/1     ImagePullBackOff   <span class="m">0</span>          4m33s
new-replica-set-nhq2b   <span class="m">0</span>/1     ImagePullBackOff   <span class="m">0</span>          4m33s
new-replica-set-vflzg   <span class="m">0</span>/1     ImagePullBackOff   <span class="m">0</span>          83s
new-replica-set-w7qqj   <span class="m">0</span>/1     ImagePullBackOff   <span class="m">0</span>          4m33s
root@controlplane:~# 




NAME              DESIRED   CURRENT   READY   AGE
new-replica-set   <span class="m">4</span>         <span class="m">4</span>         <span class="m">0</span>       16m
replicaset-1      <span class="m">2</span>         <span class="m">2</span>         <span class="m">2</span>       6m20s
replicaset-2      <span class="m">2</span>         <span class="m">2</span>         <span class="m">2</span>       51s
root@controlplane:~# 



root@controlplane:~# kubectl edit rs new-replica-set -n default
replicaset.apps/new-replica-set edited
root@controlplane:~#
root@controlplane:~# kubectl delete pod new-replica-set-dd8qv new-replica-set-nhq2b new-replica-set-vflzg new-replica-set-w7qqj 
pod <span class="s2">&quot;new-replica-set-dd8qv&quot;</span> deleted
pod <span class="s2">&quot;new-replica-set-nhq2b&quot;</span> deleted
pod <span class="s2">&quot;new-replica-set-vflzg&quot;</span> deleted
pod <span class="s2">&quot;new-replica-set-w7qqj&quot;</span> deleted
root@controlplane:~# 

root@controlplane:~# kubectl edit rs new-replica-set -n default
replicaset.apps/new-replica-set edited
root@controlplane:~# 

root@controlplane:~# kubectl scale rs new-replica-set --replicas<span class="o">=</span><span class="m">2</span> -n default
replicaset.apps/new-replica-set scaled
root@controlplane:~# kubectl get pods
NAME                    READY   STATUS        RESTARTS   AGE
new-replica-set-424fn   <span class="m">1</span>/1     Terminating   <span class="m">0</span>          3m33s
new-replica-set-98mdn   <span class="m">1</span>/1     Terminating   <span class="m">0</span>          3m33s
new-replica-set-9rh6l   <span class="m">1</span>/1     Running       <span class="m">0</span>          3m33s
new-replica-set-hrqmq   <span class="m">1</span>/1     Running       <span class="m">0</span>          3m33s
new-replica-set-k7bbq   <span class="m">1</span>/1     Terminating   <span class="m">0</span>          74s
root@controlplane:~# kubectl get pods
NAME                    READY   STATUS        RESTARTS   AGE
new-replica-set-424fn   <span class="m">1</span>/1     Terminating   <span class="m">0</span>          3m39s
new-replica-set-98mdn   <span class="m">1</span>/1     Terminating   <span class="m">0</span>          3m39s
new-replica-set-9rh6l   <span class="m">1</span>/1     Running       <span class="m">0</span>          3m39s
new-replica-set-hrqmq   <span class="m">1</span>/1     Running       <span class="m">0</span>          3m39s
new-replica-set-k7bbq   <span class="m">1</span>/1     Terminating   <span class="m">0</span>          80s
root@controlplane:~# 
</pre></div>
</div>
</div>
<p>deployments</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">deployments</span><a class="headerlink" href="#id13" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>The manifest file <span class="k">for</span> deployment is exactly same as replicaSet exacept the kind is Deployment now.


apiVersion: apps/v1
kind: ReplicaSet --&gt; Deployment
metadata:
  labels:
    run: nginx
    type: front-end
  name: nginx-rs
spec:
  template:
    metadata:
      labels:
        run: nginx
        type: front-end 
    spec:
      containers:
      - image: nginx
        name: nginx
  selector:
    matchLabels:
      type: front-end
  replicas: <span class="m">3</span>





bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f deployment-definition.yaml 
deployment.apps/nginx-deployment created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get all
NAME                                    READY   STATUS    RESTARTS   AGE
pod/nginx-deployment-766794d85c-22z9x   <span class="m">1</span>/1     Running   <span class="m">0</span>          33s
pod/nginx-deployment-766794d85c-gkzkn   <span class="m">1</span>/1     Running   <span class="m">0</span>          33s
pod/nginx-deployment-766794d85c-q7pn7   <span class="m">1</span>/1     Running   <span class="m">0</span>          33s

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
service/kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   6d17h

NAME                               READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/nginx-deployment   <span class="m">3</span>/3     <span class="m">3</span>            <span class="m">3</span>           3m56s

NAME                                          DESIRED   CURRENT   READY   AGE
replicaset.apps/nginx-deployment-766794d85c   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       33s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
</pre></div>
</div>
</div>
<p>generatedeploymentyaml</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">generatedeploymentyaml</span><a class="headerlink" href="#id14" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>kubectl create deployment redis-deploy --image<span class="o">=</span>redis --replicas<span class="o">=</span><span class="m">4</span> --dry-run<span class="o">=</span>client -o yaml &gt; redis-deployment.yaml


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create deployment redis-deploy --image<span class="o">=</span>redis --replicas<span class="o">=</span><span class="m">4</span> --dry-run<span class="o">=</span>client -o yaml &gt; redis-deployment.yaml


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f redis-deployment.yaml 
deployment.apps/redis-deploy created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create deployment redis-deploy --image<span class="o">=</span>redis --replicas<span class="o">=</span><span class="m">4</span> --dry-run<span class="o">=</span>client -o yaml &gt; redis-deployment.yaml
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f redis-deployment.yaml 
deployment.apps/redis-deploy created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get all -l <span class="nv">app</span><span class="o">=</span>redis-deploy
NAME                                READY   STATUS    RESTARTS   AGE
pod/redis-deploy-68fb445555-2rhp9   <span class="m">1</span>/1     Running   <span class="m">0</span>          3m47s
pod/redis-deploy-68fb445555-h6rx5   <span class="m">1</span>/1     Running   <span class="m">0</span>          3m47s
pod/redis-deploy-68fb445555-qz4st   <span class="m">1</span>/1     Running   <span class="m">0</span>          3m47s
pod/redis-deploy-68fb445555-tvzfk   <span class="m">1</span>/1     Running   <span class="m">0</span>          3m47s

NAME                           READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/redis-deploy   <span class="m">4</span>/4     <span class="m">4</span>            <span class="m">4</span>           3m47s

NAME                                      DESIRED   CURRENT   READY   AGE
replicaset.apps/redis-deploy-68fb445555   <span class="m">4</span>         <span class="m">4</span>         <span class="m">4</span>       3m47s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



The generated deployment file is like below:
------------------------------------------------&gt;
apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    app: redis-deploy
  name: redis-deploy
spec:
  replicas: <span class="m">4</span>
  selector:
    matchLabels:
      app: redis-deploy
  strategy: <span class="o">{}</span>
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: redis-deploy
    spec:
      containers:
      - image: redis
        name: redis
        resources: <span class="o">{}</span>
status: <span class="o">{}</span>
</pre></div>
</div>
</div>
<p>deploymentlabs</p>
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">deploymentlabs</span><a class="headerlink" href="#id15" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@controlplane:~# kubectl create deployment httpd-frontend --image<span class="o">=</span>httpd:2.4-alpine --replicas<span class="o">=</span><span class="m">3</span> --dry-run<span class="o">=</span>client -o yaml &gt; httpd_alpine_deploy.yaml
root@controlplane:~# 



root@controlplane:~# cat httpd_alpine_deploy.yaml 
apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    app: httpd-frontend
  name: httpd-frontend
spec:
  replicas: <span class="m">3</span>
  selector:
    matchLabels:
      app: httpd-frontend
  strategy: <span class="o">{}</span>
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: httpd-frontend
    spec:
      containers:
      - image: httpd:2.4-alpine
        name: httpd
        resources: <span class="o">{}</span>
status: <span class="o">{}</span>
root@controlplane:~#



root@controlplane:~# kubectl get all -l <span class="nv">app</span><span class="o">=</span>httpd-frontend
NAME                                  READY   STATUS    RESTARTS   AGE
pod/httpd-frontend-5ddf995bdf-b6sft   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m14s
pod/httpd-frontend-5ddf995bdf-mnkdz   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m14s
pod/httpd-frontend-5ddf995bdf-z9xv4   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m14s

NAME                             READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/httpd-frontend   <span class="m">3</span>/3     <span class="m">3</span>            <span class="m">3</span>           2m14s

NAME                                        DESIRED   CURRENT   READY   AGE
replicaset.apps/httpd-frontend-5ddf995bdf   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       2m14s
root@controlplane:~# 
</pre></div>
</div>
</div>
<p>namespaces</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">namespaces</span><a class="headerlink" href="#id16" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get namespaces
NAME              STATUS   AGE
default           Active   6d18h
kube-node-lease   Active   6d18h
kube-public       Active   6d18h
kube-system       Active   6d18h
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


Default namespace  --&gt; <span class="m">1</span>.web-pod <span class="m">2</span>.db-service <span class="m">3</span>.web-deployment
In the same namespace web-pod can use DB simply by its name like mysql.connect<span class="o">(</span><span class="s2">&quot;db-service&quot;</span><span class="o">)</span>

and web-pod <span class="k">in</span> default namespace can access the <span class="s2">&quot;db-service&quot;</span> <span class="k">in</span> another namespace<span class="o">(</span>dev<span class="o">)</span> as well. but we need to specify like below.
mysql.connect<span class="o">(</span><span class="s2">&quot;db-service.dev.svc.cluster.local&quot;</span><span class="o">)</span>

cluster.local is the default domain name <span class="k">for</span> the kubernetes cluster


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods -n kube-system
NAME                               READY   STATUS    RESTARTS   AGE
coredns-74ff55c5b-plhmt            <span class="m">1</span>/1     Running   <span class="m">1</span>          6d18h
etcd-minikube                      <span class="m">1</span>/1     Running   <span class="m">1</span>          6d18h
kube-apiserver-minikube            <span class="m">1</span>/1     Running   <span class="m">1</span>          6d18h
kube-controller-manager-minikube   <span class="m">1</span>/1     Running   <span class="m">1</span>          6d18h
kube-proxy-w85sf                   <span class="m">1</span>/1     Running   <span class="m">1</span>          6d18h
kube-scheduler-minikube            <span class="m">1</span>/1     Running   <span class="m">1</span>          6d18h
storage-provisioner                <span class="m">1</span>/1     Running   <span class="m">22</span>         6d18h
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create namespace dev --dry-run<span class="o">=</span>client -o yaml &gt; create_namespace.yaml
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f  create_namespace.yaml 
namespace/dev created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get namespaces
NAME              STATUS   AGE
default           Active   6d18h
dev               Active   14s
kube-node-lease   Active   6d18h
kube-public       Active   6d18h
kube-system       Active   6d18h
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl config set-context <span class="k">$(</span>kubectl config current-context<span class="k">)</span> --namespace<span class="o">=</span>dev
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl config view
apiVersion: v1
clusters:
- cluster:
    certificate-authority: /Users/bharathdasaraju/.minikube/ca.crt
    extensions:
    - extension:
        last-update: Sat, <span class="m">04</span> Sep <span class="m">2021</span> <span class="m">14</span>:54:48 +08
        provider: minikube.sigs.k8s.io
        version: v1.20.0
      name: cluster_info
    server: https://127.0.0.1:32774
  name: minikube
contexts:
- context:
    cluster: minikube
    extensions:
    - extension:
        last-update: Sat, <span class="m">04</span> Sep <span class="m">2021</span> <span class="m">14</span>:54:48 +08
        provider: minikube.sigs.k8s.io
        version: v1.20.0
      name: context_info
    namespace: default
    user: minikube
  name: minikube
current-context: minikube
kind: Config
preferences: <span class="o">{}</span>
users:
- name: minikube
  user:
    client-certificate: /Users/bharathdasaraju/.minikube/profiles/minikube/client.crt
    client-key: /Users/bharathdasaraju/.minikube/profiles/minikube/client.key
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl config set-context <span class="k">$(</span>kubectl config current-context<span class="k">)</span> --namespace<span class="o">=</span>dev
Context <span class="s2">&quot;minikube&quot;</span> modified.
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl config view
apiVersion: v1
clusters:
- cluster:
    certificate-authority: /Users/bharathdasaraju/.minikube/ca.crt
    extensions:
    - extension:
        last-update: Sat, <span class="m">04</span> Sep <span class="m">2021</span> <span class="m">14</span>:54:48 +08
        provider: minikube.sigs.k8s.io
        version: v1.20.0
      name: cluster_info
    server: https://127.0.0.1:32774
  name: minikube
contexts:
- context:
    cluster: minikube
    extensions:
    - extension:
        last-update: Sat, <span class="m">04</span> Sep <span class="m">2021</span> <span class="m">14</span>:54:48 +08
        provider: minikube.sigs.k8s.io
        version: v1.20.0
      name: context_info
    namespace: dev
    user: minikube
  name: minikube
current-context: minikube
kind: Config
preferences: <span class="o">{}</span>
users:
- name: minikube
  user:
    client-certificate: /Users/bharathdasaraju/.minikube/profiles/minikube/client.crt
    client-key: /Users/bharathdasaraju/.minikube/profiles/minikube/client.key
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods -n default
NAME                                READY   STATUS    RESTARTS   AGE
nginx-deployment-766794d85c-22z9x   <span class="m">1</span>/1     Running   <span class="m">0</span>          80m
nginx-deployment-766794d85c-gkzkn   <span class="m">1</span>/1     Running   <span class="m">0</span>          80m
nginx-deployment-766794d85c-q7pn7   <span class="m">1</span>/1     Running   <span class="m">0</span>          80m
redis-deploy-68fb445555-2rhp9       <span class="m">1</span>/1     Running   <span class="m">0</span>          67m
redis-deploy-68fb445555-h6rx5       <span class="m">1</span>/1     Running   <span class="m">0</span>          67m
redis-deploy-68fb445555-qz4st       <span class="m">1</span>/1     Running   <span class="m">0</span>          67m
redis-deploy-68fb445555-tvzfk       <span class="m">1</span>/1     Running   <span class="m">0</span>          67m
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl delete deploy redis-deploy -n default
deployment.apps <span class="s2">&quot;redis-deploy&quot;</span> deleted
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get rs -n default
NAME                          DESIRED   CURRENT   READY   AGE
nginx-deployment-766794d85c   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       81m
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl delete deploy nginx-deployment -n default
deployment.apps <span class="s2">&quot;nginx-deployment&quot;</span> deleted
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get all -n default
NAME                                    READY   STATUS        RESTARTS   AGE
pod/nginx-deployment-766794d85c-22z9x   <span class="m">0</span>/1     Terminating   <span class="m">0</span>          82m
pod/nginx-deployment-766794d85c-gkzkn   <span class="m">0</span>/1     Terminating   <span class="m">0</span>          82m
pod/nginx-deployment-766794d85c-q7pn7   <span class="m">0</span>/1     Terminating   <span class="m">0</span>          82m

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
service/kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   6d18h
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get all -n default
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
service/kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   6d18h
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
</pre></div>
</div>
</div>
<p>resourcesinnamespaces</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">resourcesinnamespaces</span><a class="headerlink" href="#id17" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>we can specify ResourceQuota <span class="k">in</span> namespace level to restrict CPU and Memory resources


apiVersion: v1
kind: ResourceQuota
metadata: 
  name: compute-quota 
  namespace: dev 
spec:
  hard:
    pods: <span class="s2">&quot;10&quot;</span>
    requests.cpu: <span class="s2">&quot;4&quot;</span>
    requests.memory: 5Gi
    limits.cpu: <span class="s2">&quot;10&quot;</span>
    limits.memory: 10Gi
</pre></div>
</div>
</div>
<p>namespacelabs</p>
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">namespacelabs</span><a class="headerlink" href="#id18" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@controlplane:~# kubectl get namespaces
NAME              STATUS   AGE
default           Active   8m20s
dev               Active   59s
finance           Active   59s
kube-node-lease   Active   8m23s
kube-public       Active   8m23s
kube-system       Active   8m24s
manufacturing     Active   59s
marketing         Active   59s
prod              Active   59s
research          Active   59s
root@controlplane:~# kubectl get namespaces <span class="p">|</span> wc -l
<span class="m">11</span>
root@controlplane:~# kubectl  get pods -n research
NAME    READY   STATUS              RESTARTS   AGE
dna-1   <span class="m">0</span>/1     ContainerCreating   <span class="m">0</span>          96s
dna-2   <span class="m">0</span>/1     ContainerCreating   <span class="m">0</span>          96s
root@controlplane:~# kubectl run redis --image<span class="o">=</span>redis -n finance
pod/redis created
root@controlplane:~#     



root@controlplane:~# kubectl get all --all-namespaces <span class="p">|</span> grep -i service
default         service/kubernetes        ClusterIP   <span class="m">10</span>.96.0.1       &lt;none&gt;        <span class="m">443</span>/TCP                  11m
dev             service/db-service        ClusterIP   <span class="m">10</span>.102.88.175   &lt;none&gt;        <span class="m">6379</span>/TCP                 4m31s
finance         service/payroll-service   NodePort    <span class="m">10</span>.96.4.206     &lt;none&gt;        <span class="m">8080</span>:30083/TCP           4m30s
kube-system     service/kube-dns          ClusterIP   <span class="m">10</span>.96.0.10      &lt;none&gt;        <span class="m">53</span>/UDP,53/TCP,9153/TCP   11m
manufacturing   service/red-service       NodePort    <span class="m">10</span>.96.212.35    &lt;none&gt;        <span class="m">8080</span>:30080/TCP           4m31s
marketing       service/blue-service      NodePort    <span class="m">10</span>.98.187.151   &lt;none&gt;        <span class="m">8080</span>:30082/TCP           4m31s
marketing       service/db-service        NodePort    <span class="m">10</span>.99.133.204   &lt;none&gt;        <span class="m">6379</span>:31971/TCP           4m31s
root@controlplane:~# 


from blue service we can access another service<span class="o">(</span><span class="s2">&quot;db-service&quot;</span><span class="o">)</span> <span class="k">in</span> same namespace<span class="o">(</span>marketing<span class="o">)</span> like below
db-service

from blue service we can access another service<span class="o">(</span><span class="s2">&quot;db-service&quot;</span><span class="o">)</span> <span class="k">in</span> different namespace<span class="o">(</span>dev<span class="o">)</span> like below
db-service.dev.svc.cluster.local:6379
</pre></div>
</div>
</div>
<p>services</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">services</span><a class="headerlink" href="#id19" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>services <span class="nb">enable</span> loose coupling between our applications.

external access 
front-end
backend etc...


basic service types:
<span class="m">1</span>.NodePort
<span class="m">2</span>.ClusterIP
<span class="m">3</span>.Loadbalancer<span class="o">(</span><span class="k">for</span> cloud providers<span class="o">)</span>
</pre></div>
</div>
</div>
<p>serviceNodePort</p>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">serviceNodePort</span><a class="headerlink" href="#id20" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>NodePort range between <span class="m">30000</span> - <span class="m">32767</span> 

apiVersion: v1
kind: Service
metadata:
  name: bkapp-service

spec:
  type: NodePort
  ports:
   - targetPort: <span class="m">80</span> <span class="c1"># Pod listens on this port, if we do not specify this value it assumes same as port.</span>
     port: <span class="m">80</span>  <span class="c1"># Service Port this is the only mandatory files</span>
     nodePort: <span class="m">30008</span>  <span class="c1"># Node listens on this port...can access using node IP-Address this is also optional</span>
  selector:
    app: bkapp
    type: front-end


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f bkweb_pod.yaml 
pod/bkweb created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get pods
NAME    READY   STATUS    RESTARTS   AGE
bkweb   <span class="m">1</span>/1     Running   <span class="m">0</span>          9s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f service_nodeport.yaml 
service/bkapp-service created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get svc
NAME            TYPE        CLUSTER-IP     EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>        AGE
bkapp-service   NodePort    <span class="m">10</span>.102.41.98   &lt;none&gt;        <span class="m">80</span>:30009/TCP   6s
kubernetes      ClusterIP   <span class="m">10</span>.96.0.1      &lt;none&gt;        <span class="m">443</span>/TCP        6d19h
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $
 

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get svc
NAME            TYPE        CLUSTER-IP     EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>        AGE
bkapp-service   NodePort    <span class="m">10</span>.102.41.98   &lt;none&gt;        <span class="m">80</span>:30009/TCP   9m58s
kubernetes      ClusterIP   <span class="m">10</span>.96.0.1      &lt;none&gt;        <span class="m">443</span>/TCP        6d19h
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get nodes -o wide
NAME       STATUS   ROLES                  AGE     VERSION   INTERNAL-IP    EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION    CONTAINER-RUNTIME
minikube   Ready    control-plane,master   6d19h   v1.20.2   <span class="m">192</span>.168.49.2   &lt;none&gt;        Ubuntu <span class="m">20</span>.04.2 LTS   <span class="m">5</span>.4.39-linuxkit   docker://20.10.6
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

create tunnel using <span class="s2">&quot;minikube service&quot;</span>

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ minikube service bkapp-service --url
🏃  Starting tunnel <span class="k">for</span> service bkapp-service.
<span class="p">|</span>-----------<span class="p">|</span>---------------<span class="p">|</span>-------------<span class="p">|</span>------------------------<span class="p">|</span>
<span class="p">|</span> NAMESPACE <span class="p">|</span>     NAME      <span class="p">|</span> TARGET PORT <span class="p">|</span>          URL           <span class="p">|</span>
<span class="p">|</span>-----------<span class="p">|</span>---------------<span class="p">|</span>-------------<span class="p">|</span>------------------------<span class="p">|</span>
<span class="p">|</span> default   <span class="p">|</span> bkapp-service <span class="p">|</span>             <span class="p">|</span> http://127.0.0.1:54535 <span class="p">|</span>
<span class="p">|</span>-----------<span class="p">|</span>---------------<span class="p">|</span>-------------<span class="p">|</span>------------------------<span class="p">|</span>
http://127.0.0.1:54535
❗  Because you are using a Docker driver on darwin, the terminal needs to be open to run it.
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $



bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ curl http://127.0.0.1:54535
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Welcome to nginx!&lt;/title&gt;
&lt;style&gt;
html <span class="o">{</span> color-scheme: light dark<span class="p">;</span> <span class="o">}</span>
body <span class="o">{</span> width: 35em<span class="p">;</span> margin: <span class="m">0</span> auto<span class="p">;</span>
font-family: Tahoma, Verdana, Arial, sans-serif<span class="p">;</span> <span class="o">}</span>
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;
&lt;p&gt;If you see this page, the nginx web server is successfully installed and
working. Further configuration is required.&lt;/p&gt;

&lt;p&gt;For online documentation and support please refer to
&lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://nginx.org/&quot;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
Commercial support is available at
&lt;a <span class="nv">href</span><span class="o">=</span><span class="s2">&quot;http://nginx.com/&quot;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Thank you <span class="k">for</span> using nginx.&lt;/em&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ curl -I http://127.0.0.1:54535
HTTP/1.1 <span class="m">200</span> OK
Server: nginx/1.21.3
Date: Sat, <span class="m">11</span> Sep <span class="m">2021</span> <span class="m">02</span>:48:20 GMT
Content-Type: text/html
Content-Length: <span class="m">615</span>
Last-Modified: Tue, <span class="m">07</span> Sep <span class="m">2021</span> <span class="m">15</span>:21:03 GMT
Connection: keep-alive
ETag: <span class="s2">&quot;6137835f-267&quot;</span>
Accept-Ranges: bytes

bharathdasaraju@MacBook-Pro certified_kubernetes_administrator <span class="o">(</span>master<span class="o">)</span> $ 


  
  
</pre></div>
</div>
</div>
<p>serviceCLusterIP</p>
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">serviceCLusterIP</span><a class="headerlink" href="#id21" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ClusterIP service type</span>

<span class="m">1</span>. front-end pods
<span class="m">2</span>. back-end pods
<span class="m">3</span>. redis pods

front-end pods need to connect to back-end pods <span class="k">for</span> internal communication
And back-end pods needs to communicate to redis pods <span class="k">for</span> internal configuration



apiVersion: v1 
kind: Service
metadata:
  name: back-end 
spec:
  type: ClusterIP
  ports:
   - targetPort : <span class="m">80</span>
     port: <span class="m">80</span>
  selector:
    app: bkapp2
    type: back-end


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl run redis --image<span class="o">=</span>redis --dry-run<span class="o">=</span>client -o yaml &gt; bkweb_pod2.yaml
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f bkweb_pod2.yaml
pod/redis created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f service_ClusterIP.yaml 
service/back-end created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get svc
NAME            TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>        AGE
back-end        ClusterIP   <span class="m">10</span>.102.211.63   &lt;none&gt;        <span class="m">80</span>/TCP         7s
bkapp-service   NodePort    <span class="m">10</span>.102.41.98    &lt;none&gt;        <span class="m">80</span>:30009/TCP   45h
kubernetes      ClusterIP   <span class="m">10</span>.96.0.1       &lt;none&gt;        <span class="m">443</span>/TCP        8d
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $
</pre></div>
</div>
</div>
<p>serviceLoadBalancer</p>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text">serviceLoadBalancer</span><a class="headerlink" href="#id22" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>apiVersion: v1
kind: Service
metadata:
  name: bkapp3
spec:
  type: LoadBalancer
  ports:
   - targetPort: <span class="m">80</span> <span class="c1"># Pod listens on this port, if we do not specify this value it assumes same as port.</span>
     port: <span class="m">80</span>  <span class="c1"># Service Port this is the only mandatory files</span>
     nodePort: <span class="m">30008</span>  <span class="c1"># Node listens on this port...can access using node IP-Address this is also optional</span>
  selector:
    app: bkapp3
    type: front-end
</pre></div>
</div>
</div>
<p>servicelabs</p>
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text">servicelabs</span><a class="headerlink" href="#id23" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@controlplane:~# kubectl get svc
NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   11m
root@controlplane:~# 


root@controlplane:~# kubectl get svc
NAME         TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   11m
root@controlplane:~# kubectl edit service kubernetes
Edit cancelled, no changes made.
root@controlplane:~# kubectl edit service kubernetes
<span class="c1"># Please edit the object below. Lines beginning with a &#39;#&#39; will be ignored,</span>
<span class="c1"># and an empty file will abort the edit. If an error occurs while saving this file will be</span>
<span class="c1"># reopened with the relevant failures.</span>
<span class="c1">#</span>
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: <span class="s2">&quot;2021-09-12T23:44:04Z&quot;</span>
  labels:
    component: apiserver
    provider: kubernetes
  name: kubernetes
  namespace: default
  resourceVersion: <span class="s2">&quot;201&quot;</span>
  uid: a2ebf456-c63a-4923-851d-b27bd3b55906
spec:
  clusterIP: <span class="m">10</span>.96.0.1
  clusterIPs:
  - <span class="m">10</span>.96.0.1
  ports:
  - name: https
    port: <span class="m">443</span>
    protocol: TCP
    targetPort: <span class="m">6443</span>
  sessionAffinity: None
  type: ClusterIP
status:
  loadBalancer: <span class="o">{}</span>
~                                                                                                                
~                                                                                                                
<span class="s2">&quot;/tmp/kubectl-edit-fuoo7.yaml&quot;</span> 28L, 664C   

root@controlplane:~# 

root@controlplane:~# kubectl get ep          
NAME         ENDPOINTS          AGE
kubernetes   <span class="m">10</span>.49.247.3:6443   19m
root@controlplane:~# kubectl edit ep kubernetes 
<span class="c1"># Please edit the object below. Lines beginning with a &#39;#&#39; will be ignored,</span>
<span class="c1"># and an empty file will abort the edit. If an error occurs while saving this file will be</span>
<span class="c1"># reopened with the relevant failures.</span>
<span class="c1">#</span>
apiVersion: v1
kind: Endpoints
metadata:
  creationTimestamp: <span class="s2">&quot;2021-09-12T23:44:04Z&quot;</span>
  labels:
    endpointslice.kubernetes.io/skip-mirror: <span class="s2">&quot;true&quot;</span>
  name: kubernetes
  namespace: default
  resourceVersion: <span class="s2">&quot;203&quot;</span>
  uid: bd579fd9-da5e-4d32-be46-33b6ab16e376
subsets:
- addresses:
  - ip: <span class="m">10</span>.49.247.3
  ports:
  - name: https
    port: <span class="m">6443</span>
    protocol: TCP
root@controlplane:~# 

root@controlplane:~# kubectl get deploy
NAME                       READY   UP-TO-DATE   AVAILABLE   AGE
simple-webapp-deployment   <span class="m">0</span>/4     <span class="m">4</span>            <span class="m">0</span>           11s
root@controlplane:~# 

root@controlplane:~# kubectl describe deploy  simple-webapp-deployment
Name:                   simple-webapp-deployment
Namespace:              default
CreationTimestamp:      Mon, <span class="m">13</span> Sep <span class="m">2021</span> <span class="m">00</span>:05:24 +0000
Labels:                 &lt;none&gt;
Annotations:            deployment.kubernetes.io/revision: <span class="m">1</span>
Selector:               <span class="nv">name</span><span class="o">=</span>simple-webapp
Replicas:               <span class="m">4</span> desired <span class="p">|</span> <span class="m">4</span> updated <span class="p">|</span> <span class="m">4</span> total <span class="p">|</span> <span class="m">4</span> available <span class="p">|</span> <span class="m">0</span> unavailable
StrategyType:           RollingUpdate
MinReadySeconds:        <span class="m">0</span>
RollingUpdateStrategy:  <span class="m">25</span>% max unavailable, <span class="m">25</span>% max surge
Pod Template:
  Labels:  <span class="nv">name</span><span class="o">=</span>simple-webapp
  Containers:
   simple-webapp:
    Image:        kodekloud/simple-webapp:red
    Port:         <span class="m">8080</span>/TCP
    Host Port:    <span class="m">0</span>/TCP
    Environment:  &lt;none&gt;
    Mounts:       &lt;none&gt;
  Volumes:        &lt;none&gt;
Conditions:
  Type           Status  Reason
  ----           ------  ------
  Available      True    MinimumReplicasAvailable
  Progressing    True    NewReplicaSetAvailable
OldReplicaSets:  &lt;none&gt;
NewReplicaSet:   simple-webapp-deployment-b56f88b77 <span class="o">(</span><span class="m">4</span>/4 replicas created<span class="o">)</span>
Events:
  Type    Reason             Age   From                   Message
  ----    ------             ----  ----                   -------
  Normal  ScalingReplicaSet  19m   deployment-controller  Scaled up replica <span class="nb">set</span> simple-webapp-deployment-b56f88b77 to <span class="m">4</span>
root@controlplane:~# 

root@controlplane:~# vim service-definition-1.yaml 
root@controlplane:~# cat service-definition-1.yaml
---
apiVersion: v1
kind: Service
metadata: webapp-service
  name:
spec:
  type: NodePort
  ports:
    - targetPort: <span class="m">8080</span>
      port: <span class="m">8080</span>
      nodePort: <span class="m">30080</span>
  selector:
    name: simple-webapp
root@controlplane:~# 


root@controlplane:~# kubectl create -f service-definition-1.yaml 
service/webapp-service created
root@controlplane:~# 


root@controlplane:~# 
root@controlplane:~# kubectl get svc
NAME             TYPE        CLUSTER-IP       EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>          AGE
kubernetes       ClusterIP   <span class="m">10</span>.96.0.1        &lt;none&gt;        <span class="m">443</span>/TCP          41m
webapp-service   NodePort    <span class="m">10</span>.101.212.188   &lt;none&gt;        <span class="m">8080</span>:30080/TCP   98s
root@controlplane:~# kubectl describe service webapp-service
Name:                     webapp-service
Namespace:                default
Labels:                   &lt;none&gt;
Annotations:              &lt;none&gt;
Selector:                 <span class="nv">name</span><span class="o">=</span>simple-webapp
Type:                     NodePort
IP Families:              &lt;none&gt;
IP:                       <span class="m">10</span>.101.212.188
IPs:                      <span class="m">10</span>.101.212.188
Port:                     &lt;unset&gt;  <span class="m">8080</span>/TCP
TargetPort:               <span class="m">8080</span>/TCP
NodePort:                 &lt;unset&gt;  <span class="m">30080</span>/TCP
Endpoints:                <span class="m">10</span>.244.0.4:8080,10.244.0.5:8080,10.244.0.6:8080 + <span class="m">1</span> more...
Session Affinity:         None
External Traffic Policy:  Cluster
Events:                   &lt;none&gt;
root@controlplane:~# 



Minikube test:
----------------------&gt;


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create deployment simple-webapp-deployment --replicas<span class="o">=</span><span class="m">3</span> --image<span class="o">=</span>kodekloud/simple-webapp:red --dry-run<span class="o">=</span>client -o yaml &gt; simple-webapp-deployment.yaml
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f simple-webapp-deployment.yaml
The Deployment <span class="s2">&quot;simple-webapp-deployment&quot;</span> is invalid: spec.template.metadata.labels: Invalid value: map<span class="o">[</span>string<span class="o">]</span>string<span class="o">{</span><span class="s2">&quot;app&quot;</span>:<span class="s2">&quot;simple-webapp-deployment&quot;</span><span class="o">}</span>: <span class="sb">`</span>selector<span class="sb">`</span> does not match template <span class="sb">`</span>labels<span class="sb">`</span>
kubectl create -f simple-webapp-deployment.yaml


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create -f simple-webapp-deployment.yaml
deployment.apps/simple-webapp-deployment created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get all
NAME                                            READY   STATUS    RESTARTS   AGE
pod/simple-webapp-deployment-85db7b94cf-prmrk   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m4s
pod/simple-webapp-deployment-85db7b94cf-r6jqs   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m4s
pod/simple-webapp-deployment-85db7b94cf-ss226   <span class="m">1</span>/1     Running   <span class="m">0</span>          2m4s

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
service/kubernetes   ClusterIP   <span class="m">10</span>.96.0.1    &lt;none&gt;        <span class="m">443</span>/TCP   8d

NAME                                       READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/simple-webapp-deployment   <span class="m">3</span>/3     <span class="m">3</span>            <span class="m">3</span>           2m5s

NAME                                                  DESIRED   CURRENT   READY   AGE
replicaset.apps/simple-webapp-deployment-85db7b94cf   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       2m5s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get svc
NAME             TYPE        CLUSTER-IP       EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>          AGE
kubernetes       ClusterIP   <span class="m">10</span>.96.0.1        &lt;none&gt;        <span class="m">443</span>/TCP          8d
webapp-service   NodePort    <span class="m">10</span>.102.158.105   &lt;none&gt;        <span class="m">8080</span>:30080/TCP   6s
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


Create a service with <span class="s2">&quot;kubectl expose&quot;</span> <span class="nb">command</span>
<span class="s2">&quot;kubectl expose deployment simple-webapp-deployment --name=webapp-service --target-port=8080 --type=NodePort --port=8080 --dry-run=client -o yaml &gt; simple_webapp_service.yaml&quot;</span>


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl delete svc webapp-service
service <span class="s2">&quot;webapp-service&quot;</span> deleted
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get deploy
NAME                       READY   UP-TO-DATE   AVAILABLE   AGE
simple-webapp-deployment   <span class="m">3</span>/3     <span class="m">3</span>            <span class="m">3</span>           12m
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl expose deployment simple-webapp-deployment --name<span class="o">=</span>webapp-service --target-port<span class="o">=</span><span class="m">8080</span> --type<span class="o">=</span>NodePort --port<span class="o">=</span><span class="m">8080</span> --dry-run<span class="o">=</span>client -o yaml &gt; simple_webapp_service.yaml
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
</pre></div>
</div>
</div>
<p>kubectlDeclarative</p>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">kubectlDeclarative</span><a class="headerlink" href="#id24" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Imperative:
------------------------------------------------------------------------------------------&gt;

bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get deploy
NAME                       READY   UP-TO-DATE   AVAILABLE   AGE
simple-webapp-deployment   <span class="m">3</span>/3     <span class="m">3</span>            <span class="m">3</span>           3h52m
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl scale deployment simple-webapp-deployment --replicas<span class="o">=</span><span class="m">4</span>
deployment.apps/simple-webapp-deployment scaled
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get deploy
NAME                       READY   UP-TO-DATE   AVAILABLE   AGE
simple-webapp-deployment   <span class="m">4</span>/4     <span class="m">4</span>            <span class="m">4</span>           3h54m
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


Declarative:
--------------------------------------------------------------------------&gt;

kubectl apply -f /path/to_config/files
</pre></div>
</div>
</div>
<p>kubectlImperative</p>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text">kubectlImperative</span><a class="headerlink" href="#id25" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bharathdasaraju@MacBook-Pro Four_September_2021_CKA_Recap <span class="o">(</span>master<span class="o">)</span> $ kubectl run nginx --image<span class="o">=</span>nginx --dry-run<span class="o">=</span>client -o yaml
apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: nginx
  name: nginx
spec:
  containers:
  - image: nginx
    name: nginx
    resources: <span class="o">{}</span>
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: <span class="o">{}</span>
bharathdasaraju@MacBook-Pro Four_September_2021_CKA_Recap <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create deployment nginx --image<span class="o">=</span>nginx --replicas<span class="o">=</span><span class="m">4</span> --dry-run<span class="o">=</span>client -o yaml 
apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    app: nginx
  name: nginx
spec:
  replicas: <span class="m">4</span>
  selector:
    matchLabels:
      app: nginx
  strategy: <span class="o">{}</span>
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: nginx
    spec:
      containers:
      - image: nginx
        name: nginx
        resources: <span class="o">{}</span>
status: <span class="o">{}</span>
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl run nginx --image<span class="o">=</span>nginx 
pod/nginx created
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl expose pod nginx --port<span class="o">=</span><span class="m">80</span> --name web-service --dry-run<span class="o">=</span>client -o yaml
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    run: nginx
  name: web-service
spec:
  ports:
  - port: <span class="m">80</span>
    protocol: TCP
    targetPort: <span class="m">80</span>
  selector:
    run: nginx
status:
  loadBalancer: <span class="o">{}</span>
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 


bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl expose pod nginx --port<span class="o">=</span><span class="m">80</span> --name web-service 
service/web-service exposed
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl get svc web-service -o yaml
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: <span class="s2">&quot;2021-09-13T05:08:42Z&quot;</span>
  labels:
    run: nginx
  managedFields:
  - apiVersion: v1
    fieldsType: FieldsV1
    fieldsV1:
      f:metadata:
        f:labels:
          .: <span class="o">{}</span>
          f:run: <span class="o">{}</span>
      f:spec:
        f:ports:
          .: <span class="o">{}</span>
          k:<span class="o">{</span><span class="s2">&quot;port&quot;</span>:80,<span class="s2">&quot;protocol&quot;</span>:<span class="s2">&quot;TCP&quot;</span><span class="o">}</span>:
            .: <span class="o">{}</span>
            f:port: <span class="o">{}</span>
            f:protocol: <span class="o">{}</span>
            f:targetPort: <span class="o">{}</span>
        f:selector:
          .: <span class="o">{}</span>
          f:run: <span class="o">{}</span>
        f:sessionAffinity: <span class="o">{}</span>
        f:type: <span class="o">{}</span>
    manager: kubectl-expose
    operation: Update
    time: <span class="s2">&quot;2021-09-13T05:08:42Z&quot;</span>
  name: web-service
  namespace: default
  resourceVersion: <span class="s2">&quot;50739&quot;</span>
  uid: d08bd0c8-1649-40a6-8edb-28dd9a2f191b
spec:
  clusterIP: <span class="m">10</span>.106.66.87
  clusterIPs:
  - <span class="m">10</span>.106.66.87
  ports:
  - port: <span class="m">80</span>
    protocol: TCP
    targetPort: <span class="m">80</span>
  selector:
    run: nginx
  sessionAffinity: None
  type: ClusterIP
status:
  loadBalancer: <span class="o">{}</span>
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



<span class="s2">&quot;The problem with below approach is this will not use the pods labels as selectors, instead it will assume slectors as app=nginx so we need to modify it&quot;</span>
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create service clusterip nginx --tcp<span class="o">=</span><span class="m">80</span>:80 --dry-run<span class="o">=</span>client -o yaml
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    app: nginx
  name: nginx
spec:
  ports:
  - name: <span class="m">80</span>-80
    port: <span class="m">80</span>
    protocol: TCP
    targetPort: <span class="m">80</span>
  selector:
    app: nginx
  type: ClusterIP
status:
  loadBalancer: <span class="o">{}</span>
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 



bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl expose pod nginx --type<span class="o">=</span>NodePort --port<span class="o">=</span><span class="m">80</span> --name<span class="o">=</span>nginx-service-np --dry-run<span class="o">=</span>client -o yaml
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    run: nginx
  name: nginx-service-np
spec:
  ports:
  - port: <span class="m">80</span>
    protocol: TCP
    targetPort: <span class="m">80</span>
  selector:
    run: nginx
  type: NodePort
status:
  loadBalancer: <span class="o">{}</span>
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 

<span class="s2">&quot;using expose command&quot;</span>
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ kubectl create service nodeport nginx --tcp<span class="o">=</span><span class="m">80</span>:80 --node-port<span class="o">=</span><span class="m">30090</span> --dry-run<span class="o">=</span>client -o yaml
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    app: nginx
  name: nginx
spec:
  ports:
  - name: <span class="m">80</span>-80
    nodePort: <span class="m">30090</span>
    port: <span class="m">80</span>
    protocol: TCP
    targetPort: <span class="m">80</span>
  selector:
    app: nginx
  type: NodePort
status:
  loadBalancer: <span class="o">{}</span>
bharathdasaraju@MacBook-Pro <span class="m">1</span>.Core_Concepts <span class="o">(</span>master<span class="o">)</span> $ 
</pre></div>
</div>
</div>
<p>kubectlImperativelabs</p>
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text">kubectlImperativelabs</span><a class="headerlink" href="#id26" title="Permalink to this code"></a></div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@controlplane:~# kubectl run nginx-pod --image<span class="o">=</span>nginx:alpine
pod/nginx-pod created
root@controlplane:~# 


root@controlplane:~# kubectl run redis --image<span class="o">=</span>redis:alpine --dry-run<span class="o">=</span>client -o yaml &gt; redis-pod.yamlroot@controlplane:~# vim redis-pod.yaml 
root@controlplane:~# kubectl apply -f redis-pod.yaml
pod/redis created
root@controlplane:~# 

Create a service redis-service to expose the redis application within the cluster on port <span class="m">6379</span>.



Use imperative commands.

root@controlplane:~# kubectl expose pod redis  --port<span class="o">=</span><span class="m">6379</span> --name<span class="o">=</span>redis-service --dry-run<span class="o">=</span>client -o yaml &gt; redis-service.yaml
root@controlplane:~# vim 


root@controlplane:~# cat redis-service.yaml 
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    tier: db
  name: redis-service
spec:
  ports:
  - port: <span class="m">6379</span>
    protocol: TCP
    targetPort: <span class="m">6379</span>
  selector:
    tier: db
  type: ClusterIP
status:
  loadBalancer: <span class="o">{}</span>
root@controlplane:~# 


root@controlplane:~# kubectl get all
NAME            READY   STATUS    RESTARTS   AGE
pod/nginx-pod   <span class="m">1</span>/1     Running   <span class="m">0</span>          8m15s
pod/redis       <span class="m">1</span>/1     Running   <span class="m">0</span>          5m52s

NAME                    TYPE        CLUSTER-IP       EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>    AGE
service/kubernetes      ClusterIP   <span class="m">10</span>.96.0.1        &lt;none&gt;        <span class="m">443</span>/TCP    13m
service/redis-service   ClusterIP   <span class="m">10</span>.106.124.133   &lt;none&gt;        <span class="m">6379</span>/TCP   19s
root@controlplane:~# 


root@controlplane:~# kubectl create deployment webapp --image<span class="o">=</span>kodekloud/webapp-color --replicas<span class="o">=</span><span class="m">3</span> --dry-run<span class="o">=</span>client -o yaml &gt; webapp-deployment.yaml

root@controlplane:~# cat webapp-deployment.yaml 
apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    app: webapp
  name: webapp
spec:
  replicas: <span class="m">3</span>
  selector:
    matchLabels:
      app: webapp
  strategy: <span class="o">{}</span>
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: webapp
    spec:
      containers:
      - image: kodekloud/webapp-color
        name: webapp-color
        resources: <span class="o">{}</span>
status: <span class="o">{}</span>
root@controlplane:~# 


root@controlplane:~# kubectl apply -f webapp-deployment.yaml
deployment.apps/webapp created
root@controlplane:~# 




Create a new pod called custom-nginx using the nginx image and expose it on container port <span class="m">8080</span>.

kubectl run custom-nginx --image<span class="o">=</span>nginx --port<span class="o">=</span><span class="m">8080</span>

root@controlplane:~# kubectl expose pod custom-nginx --port<span class="o">=</span><span class="m">8</span> --name<span class="o">=</span>custom-nginx-service --dry-run<span class="o">=</span>client -o yaml &gt; custom-nginx-service.yaml
root@controlplane:~#

root@controlplane:~# vim custom-nginx-service.yaml
root@controlplane:~# kubectl apply -f custom-nginx-service.yaml
service/custom-nginx-service created
root@controlplane:~# kubectl get svc
NAME                   TYPE        CLUSTER-IP       EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>    AGE
custom-nginx-service   ClusterIP   <span class="m">10</span>.96.71.30      &lt;none&gt;        <span class="m">8080</span>/TCP   5s
kubernetes             ClusterIP   <span class="m">10</span>.96.0.1        &lt;none&gt;        <span class="m">443</span>/TCP    19m
redis-service          ClusterIP   <span class="m">10</span>.106.124.133   &lt;none&gt;        <span class="m">6379</span>/TCP   6m34s
root@controlplane:~# 


root@controlplane:~# kubectl run custom-nginx --image<span class="o">=</span>nginx --port<span class="o">=</span><span class="m">8080</span> --dry-run<span class="o">=</span>client -o yaml
apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: custom-nginx
  name: custom-nginx
spec:
  containers:
  - image: nginx
    name: custom-nginx
    ports:
    - containerPort: <span class="m">8080</span>
    resources: <span class="o">{}</span>
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: <span class="o">{}</span>
root@controlplane:~# 

root@controlplane:~# kubectl run custom-nginx --image<span class="o">=</span>nginx --port<span class="o">=</span><span class="m">8080</span>                         
pod/custom-nginx created
root@controlplane:~# kubectl get pods
NAME                      READY   STATUS              RESTARTS   AGE
custom-nginx              <span class="m">0</span>/1     ContainerCreating   <span class="m">0</span>          6s
nginx-pod                 <span class="m">1</span>/1     Running             <span class="m">0</span>          26m
redis                     <span class="m">1</span>/1     Running             <span class="m">0</span>          23m
webapp-56847f875b-56dcw   <span class="m">1</span>/1     Running             <span class="m">0</span>          16m
webapp-56847f875b-khmk5   <span class="m">1</span>/1     Running             <span class="m">0</span>          16m
webapp-56847f875b-rpfcj   <span class="m">1</span>/1     Running             <span class="m">0</span>          16m
root@controlplane:~# 



root@controlplane:~# kubectl run nginx-pod --image<span class="o">=</span>nginx:alpine
pod/nginx-pod created
root@controlplane:~# ls
sample.yaml
root@controlplane:~# kubectl run redis --image<span class="o">=</span>redis:alpine -l <span class="nv">tier</span><span class="o">=</span>db
pod/redis created
root@controlplane:~# 

root@controlplane:~# kubectl get pods
NAME        READY   STATUS              RESTARTS   AGE
nginx-pod   <span class="m">1</span>/1     Running             <span class="m">0</span>          64s
redis       <span class="m">0</span>/1     ContainerCreating   <span class="m">0</span>          11s
root@controlplane:~# 

root@controlplane:~# kubectl expose pod redis --port<span class="o">=</span><span class="m">6379</span> --name redis-service --dry-run<span class="o">=</span>client -o yaml &gt; redis-service.yaml 
root@controlplane:~#


root@controlplane:~# kubectl expose pod redis --port<span class="o">=</span><span class="m">6379</span> --name redis-service --dry-run<span class="o">=</span>client -o yaml                     
apiVersion: v1
kind: Service
metadata:
  creationTimestamp: null
  labels:
    tier: db
  name: redis-service
spec:
  ports:
  - port: <span class="m">6379</span>
    protocol: TCP
    targetPort: <span class="m">6379</span>
  selector:
    tier: db
status:
  loadBalancer: <span class="o">{}</span>
root@controlplane:~# 

root@controlplane:~# vim redis-service.yaml 
root@controlplane:~# kubectl apply -f redis-service.yaml
service/redis-service created
root@controlplane:~# 

root@controlplane:~# kubectl get svc
NAME            TYPE        CLUSTER-IP     EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>    AGE
kubernetes      ClusterIP   <span class="m">10</span>.96.0.1      &lt;none&gt;        <span class="m">443</span>/TCP    11m
redis-service   ClusterIP   <span class="m">10</span>.103.54.86   &lt;none&gt;        <span class="m">6379</span>/TCP   13s
root@controlplane:~# 


root@controlplane:~# kubectl create deployment webapp --image<span class="o">=</span>kodekloud/webapp-color --replicas<span class="o">=</span><span class="m">3</span> --dry-run<span class="o">=</span>client -o yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    app: webapp
  name: webapp
spec:
  replicas: <span class="m">3</span>
  selector:
    matchLabels:
      app: webapp
  strategy: <span class="o">{}</span>
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: webapp
    spec:
      containers:
      - image: kodekloud/webapp-color
        name: webapp-color
        resources: <span class="o">{}</span>
status: <span class="o">{}</span>
root@controlplane:~# 



root@controlplane:~# kubectl create deployment webapp --image<span class="o">=</span>kodekloud/webapp-color --replicas<span class="o">=</span><span class="m">3</span> --dry-run<span class="o">=</span>client -o yaml &gt; webapp.yaml
root@controlplane:~# kubectl apply -f webapp.yaml 
deployment.apps/webapp created
root@controlplane:~# kubectl get deploy webapp -o wide
NAME     READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS     IMAGES                   SELECTOR
webapp   <span class="m">3</span>/3     <span class="m">3</span>            <span class="m">3</span>           23s   webapp-color   kodekloud/webapp-color   <span class="nv">app</span><span class="o">=</span>webapp
root@controlplane:~# 



Create a new pod called custom-nginx using the nginx image and expose it on container port <span class="m">8080</span>.

root@controlplane:~# kubectl run custom-nginx --image<span class="o">=</span>nginx --port<span class="o">=</span><span class="m">8080</span> --dry-run<span class="o">=</span>client -o yaml
apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  labels:
    run: custom-nginx
  name: custom-nginx
spec:
  containers:
  - image: nginx
    name: custom-nginx
    ports:
    - containerPort: <span class="m">8080</span>
    resources: <span class="o">{}</span>
  dnsPolicy: ClusterFirst
  restartPolicy: Always
status: <span class="o">{}</span>
root@controlplane:~# 


root@controlplane:~# kubectl run custom-nginx --image<span class="o">=</span>nginx --port<span class="o">=</span><span class="m">8080</span> --dry-run<span class="o">=</span>client -o yaml &gt; custom-nginx.yaml
root@controlplane:~# kubectl apply -f custom-nginx.yaml 
pod/custom-nginx created
root@controlplane:~# 


root@controlplane:~# kubectl create namespace dev-ns --dry-run<span class="o">=</span>client -o yaml
apiVersion: v1
kind: Namespace
metadata:
  creationTimestamp: null
  name: dev-ns
spec: <span class="o">{}</span>
status: <span class="o">{}</span>
root@controlplane:~# 


root@controlplane:~# kubectl create namespace dev-ns --dry-run<span class="o">=</span>client -o yaml &gt; namespace.yaml
root@controlplane:~# kubectl apply -f namespace.yaml
namespace/dev-ns created
root@controlplane:~# 


root@controlplane:~# kubectl create deployment redis-deploy --image<span class="o">=</span>redis --replicas<span class="o">=</span><span class="m">2</span> -n dev-ns --dry-run<span class="o">=</span>client -o yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    app: redis-deploy
  name: redis-deploy
  namespace: dev-ns
spec:
  replicas: <span class="m">2</span>
  selector:
    matchLabels:
      app: redis-deploy
  strategy: <span class="o">{}</span>
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: redis-deploy
    spec:
      containers:
      - image: redis
        name: redis
        resources: <span class="o">{}</span>
status: <span class="o">{}</span>
root@controlplane:~# 



root@controlplane:~# kubectl create deployment redis-deploy --image<span class="o">=</span>redis --replicas<span class="o">=</span><span class="m">2</span> -n dev-ns --dry-run<span class="o">=</span>client -o yaml &gt; redis-deploy.yaml
root@controlplane:~# kubectl apply -f redis-deploy.yaml
deployment.apps/redis-deploy created
root@controlplane:~# 


root@controlplane:~# kubectl run httpd --image<span class="o">=</span>httpd:alpine --dry-run<span class="o">=</span>client -o yaml &gt; httpd_pod.yamlroot@controlplane:~# kubectl apply -f httpd_pod.yaml
pod/httpd created
root@controlplane:~# kubectl expose pod httpd --name<span class="o">=</span>httpd --port<span class="o">=</span><span class="m">80</span> --dry-run<span class="o">=</span>client -o yaml &gt; httpd_service.yaml
root@controlplane:~# vim httpd_service.yaml
root@controlplane:~# kubectl apply -f httpd_service.yaml
service/httpd created
root@controlplane:~# 


The shortcut is: kubectl run httpd --image<span class="o">=</span>httpd:alpine --port<span class="o">=</span><span class="m">80</span> --expose


root@controlplane:~# kubectl get all -n default
NAME                          READY   STATUS    RESTARTS   AGE
pod/custom-nginx              <span class="m">1</span>/1     Running   <span class="m">0</span>          7m47s
pod/httpd                     <span class="m">1</span>/1     Running   <span class="m">0</span>          2m22s
pod/nginx-pod                 <span class="m">1</span>/1     Running   <span class="m">0</span>          14m
pod/redis                     <span class="m">1</span>/1     Running   <span class="m">0</span>          13m
pod/webapp-56847f875b-6zp5q   <span class="m">1</span>/1     Running   <span class="m">0</span>          9m35s
pod/webapp-56847f875b-8xwh7   <span class="m">1</span>/1     Running   <span class="m">0</span>          9m35s
pod/webapp-56847f875b-txvwg   <span class="m">1</span>/1     Running   <span class="m">0</span>          9m35s

NAME                    TYPE        CLUSTER-IP       EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>    AGE
service/httpd           ClusterIP   <span class="m">10</span>.109.119.111   &lt;none&gt;        <span class="m">80</span>/TCP     60s
service/kubernetes      ClusterIP   <span class="m">10</span>.96.0.1        &lt;none&gt;        <span class="m">443</span>/TCP    22m
service/redis-service   ClusterIP   <span class="m">10</span>.103.54.86     &lt;none&gt;        <span class="m">6379</span>/TCP   11m

NAME                     READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/webapp   <span class="m">3</span>/3     <span class="m">3</span>            <span class="m">3</span>           9m35s

NAME                                DESIRED   CURRENT   READY   AGE
replicaset.apps/webapp-56847f875b   <span class="m">3</span>         <span class="m">3</span>         <span class="m">3</span>       9m35s
root@controlplane:~# 


root@controlplane:~# kubectl get all -n dev-ns 
NAME                                READY   STATUS    RESTARTS   AGE
pod/redis-deploy-68fb445555-kr5w8   <span class="m">1</span>/1     Running   <span class="m">0</span>          4m25s
pod/redis-deploy-68fb445555-zrxfn   <span class="m">1</span>/1     Running   <span class="m">0</span>          4m25s

NAME                           READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/redis-deploy   <span class="m">2</span>/2     <span class="m">2</span>            <span class="m">2</span>           4m25s

NAME                                      DESIRED   CURRENT   READY   AGE
replicaset.apps/redis-deploy-68fb445555   <span class="m">2</span>         <span class="m">2</span>         <span class="m">2</span>       4m25s
root@controlplane:~# 
</pre></div>
</div>
</div>
<div class="section" id="pod-repliationcontroller-repliaset-deployment-service-namespace-manifest-files">
<h2>Pod, RepliationController, Repliaset, Deployment, Service, Namespace manifest files<a class="headerlink" href="#pod-repliationcontroller-repliaset-deployment-service-namespace-manifest-files" title="Permalink to this headline"></a></h2>
<p>podnginx</p>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text">podnginx</span><a class="headerlink" href="#id27" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx1818</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
    <span class="nt">resources</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">dnsPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterFirst</span>
  <span class="nt">restartPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Always</span>
<span class="nt">status</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
<p>podredis</p>
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text">podredis</span><a class="headerlink" href="#id28" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis1234</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
    <span class="nt">resources</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">dnsPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterFirst</span>
  <span class="nt">restartPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Always</span>
<span class="nt">status</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
<p>replicationcontroller</p>
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text">replicationcontroller</span><a class="headerlink" href="#id29" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ReplicationController</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp-rc</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp-pod</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx-container</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
</pre></div>
</div>
</div>
<p>replicaset</p>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text">replicaset</span><a class="headerlink" href="#id30" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ReplicaSet</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp-replicaset</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
      <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp-pod</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx-container</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>

    
</pre></div>
</div>
</div>
<p>replicasetlab1</p>
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text">replicasetlab1</span><a class="headerlink" href="#id31" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ReplicaSet</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">replicaset-1</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">tier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">frontend</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">tier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">frontend</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
</pre></div>
</div>
</div>
<p>replicasetlab2</p>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text">replicasetlab2</span><a class="headerlink" href="#id32" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ReplicaSet</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">replicaset-2</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">tier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">frontend</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">tier</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">frontend</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
</pre></div>
</div>
</div>
<p>samplepod</p>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text">samplepod</span><a class="headerlink" href="#id33" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
    <span class="nt">resources</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">dnsPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterFirst</span>
  <span class="nt">restartPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Always</span>
<span class="nt">status</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
<p>deployment</p>
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text">deployment</span><a class="headerlink" href="#id34" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx-deployment</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span> 
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
</pre></div>
</div>
</div>
<p>replicasetrecap</p>
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text">replicasetrecap</span><a class="headerlink" href="#id35" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ReplicaSet</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx-rs</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span> 
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
</pre></div>
</div>
</div>
<p>redisdeployment</p>
<div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-text">redisdeployment</span><a class="headerlink" href="#id36" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis-deploy</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis-deploy</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis-deploy</span>
  <span class="nt">strategy</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis-deploy</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
        <span class="nt">resources</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
<span class="nt">status</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
<p>namespace</p>
<div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-text">namespace</span><a class="headerlink" href="#id37" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Namespace</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">dev</span>
<span class="nt">spec</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
<span class="nt">status</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
<p>servicenodeport</p>
<div class="literal-block-wrapper docutils container" id="id38">
<div class="code-block-caption"><span class="caption-text">servicenodeport</span><a class="headerlink" href="#id38" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">bkapp-service</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">bkweb-app</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
  <span class="nt">type</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">NodePort</span>
  <span class="nt">ports</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">bkwebport</span>
    <span class="nt">port</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">80</span>
    <span class="nt">targetPort</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">80</span>
    <span class="nt">nodePort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30009</span>
</pre></div>
</div>
</div>
<p>webpod</p>
<div class="literal-block-wrapper docutils container" id="id39">
<div class="code-block-caption"><span class="caption-text">webpod</span><a class="headerlink" href="#id39" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkweb-app</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkweb</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkweb</span>
</pre></div>
</div>
</div>
<p>serviceclusterip</p>
<div class="literal-block-wrapper docutils container" id="id40">
<div class="code-block-caption"><span class="caption-text">serviceclusterip</span><a class="headerlink" href="#id40" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">back-end</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp2</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">back-end</span>
  <span class="nt">type</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>  <span class="c1"># Its default type if we do not specify type it automatically assigned as ClusterIP only.</span>
  <span class="nt">ports</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">back-end-port</span>
    <span class="nt">port</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">80</span>
    <span class="nt">targetPort</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">8080</span>
</pre></div>
</div>
</div>
<p>webpod2</p>
<div class="literal-block-wrapper docutils container" id="id41">
<div class="code-block-caption"><span class="caption-text">webpod2</span><a class="headerlink" href="#id41" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp2</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">back-end</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">redis</span>
    <span class="nt">resources</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">dnsPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterFirst</span>
  <span class="nt">restartPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Always</span>
<span class="nt">status</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
<p>servicelb</p>
<div class="literal-block-wrapper docutils container" id="id42">
<div class="code-block-caption"><span class="caption-text">servicelb</span><a class="headerlink" href="#id42" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp3</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
  <span class="nt">ports</span><span class="p">:</span>
   <span class="p p-Indicator">-</span> <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span> <span class="c1"># Pod listens on this port, if we do not specify this value it assumes same as port.</span>
     <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">80</span>  <span class="c1"># Service Port this is the only mandatory files</span>
     <span class="nt">nodePort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30008</span>  <span class="c1"># Node listens on this port...can access using node IP-Address this is also optional</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bkapp3</span>
    <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">front-end</span>
</pre></div>
</div>
</div>
<p>simplewebapp</p>
<div class="literal-block-wrapper docutils container" id="id43">
<div class="code-block-caption"><span class="caption-text">simplewebapp</span><a class="headerlink" href="#id43" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple-webapp</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple-webapp-deployment</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple-webapp</span>
  <span class="nt">strategy</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple-webapp</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">kodekloud/simple-webapp:red</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple-webapp</span>
        <span class="nt">ports</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="nt">containerPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
            <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="nt">status</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
<p>servicewebapp</p>
<div class="literal-block-wrapper docutils container" id="id44">
<div class="code-block-caption"><span class="caption-text">servicewebapp</span><a class="headerlink" href="#id44" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span> 
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">webapp-service</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NodePort</span>
  <span class="nt">ports</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
      <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
      <span class="nt">nodePort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30080</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple-webapp</span>
</pre></div>
</div>
</div>
<p>nginxdeploymentimperative</p>
<div class="literal-block-wrapper docutils container" id="id45">
<div class="code-block-caption"><span class="caption-text">nginxdeploymentimperative</span><a class="headerlink" href="#id45" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">replicas</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">matchLabels</span><span class="p">:</span>
      <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
  <span class="nt">strategy</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">template</span><span class="p">:</span>
    <span class="nt">metadata</span><span class="p">:</span>
      <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
      <span class="nt">labels</span><span class="p">:</span>
        <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
    <span class="nt">spec</span><span class="p">:</span>
      <span class="nt">containers</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
        <span class="nt">resources</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
<span class="nt">status</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
<p>podsrecap</p>
<div class="literal-block-wrapper docutils container" id="id46">
<div class="code-block-caption"><span class="caption-text">podsrecap</span><a class="headerlink" href="#id46" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">containers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
    <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">nginx</span>
    <span class="nt">resources</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
  <span class="nt">ports</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">Port Name</span>
    <span class="nt">port</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">Port</span>
    <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
  <span class="nt">dnsPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ClusterFirst</span>
  <span class="nt">restartPolicy</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Always</span>
<span class="nt">status</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
<p>simplewebservice</p>
<div class="literal-block-wrapper docutils container" id="id47">
<div class="code-block-caption"><span class="caption-text">simplewebservice</span><a class="headerlink" href="#id47" title="Permalink to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">apiVersion</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
  <span class="nt">creationTimestamp</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
  <span class="nt">labels</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple-webapp</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">webapp-service</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="nt">ports</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
    <span class="nt">protocol</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">TCP</span>
    <span class="nt">targetPort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8080</span>
    <span class="nt">nodePort</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">30080</span>
  <span class="nt">selector</span><span class="p">:</span>
    <span class="nt">app</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">simple-webapp</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">NodePort</span>
<span class="nt">status</span><span class="p">:</span>
  <span class="nt">loadBalancer</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="CKA notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scheduling.html" class="btn btn-neutral float-right" title="Scheduling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>